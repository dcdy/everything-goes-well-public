<!DOCTYPE html>
<html lang="zh-CN" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>直播相关 | VitePress</title>
    <meta name="description" content="A VitePress site">
    <meta name="generator" content="VitePress v1.6.3">
    <link rel="preload stylesheet" href="/everything-goes-well-public/assets/style.pzsy15ts.css" as="style">
    <link rel="preload stylesheet" href="/everything-goes-well-public/vp-icons.css" as="style">
    <script type="module" src="/everything-goes-well-public/assets/chunks/metadata.c621ab11.js"></script>
    <script type="module" src="/everything-goes-well-public/assets/app.DcLsAWt9.js"></script>
    <link rel="preload" href="/everything-goes-well-public/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/everything-goes-well-public/assets/chunks/theme.BHu8mmnR.js">
    <link rel="modulepreload" href="/everything-goes-well-public/assets/chunks/framework.CF7B9edl.js">
    <link rel="modulepreload" href="/everything-goes-well-public/assets/zh_electron_直播相关.md.D40kFxX4.lean.js">
    <link rel="icon" type="image/svg+xml" href="/everything-goes-well-public/logo/vitepress-logo-mini.svg">
    <link rel="icon" type="image/png" href="/everything-goes-well-public/logo/vitepress-logo-mini.png">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-6c7cdc44><!--[--><!--]--><!--[--><span tabindex="-1" data-v-ca31ed51></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-ca31ed51>Skip to content</a><!--]--><!----><header class="VPNav" data-v-6c7cdc44 data-v-cdcd35d3><div class="VPNavBar" data-v-cdcd35d3 data-v-7cd5de9c><div class="wrapper" data-v-7cd5de9c><div class="container" data-v-7cd5de9c><div class="title" data-v-7cd5de9c><div class="VPNavBarTitle has-sidebar" data-v-7cd5de9c data-v-aaec9b93><a class="title" href="/everything-goes-well-public/" data-v-aaec9b93><!--[--><!--]--><!--[--><img class="VPImage logo" src="/everything-goes-well-public/logo/logo.png" width="24" height="24" alt data-v-8356cd70><!--]--><span data-v-aaec9b93>四时顺遂</span><!--[--><!--]--></a></div></div><div class="content" data-v-7cd5de9c><div class="content-body" data-v-7cd5de9c><!--[--><!--]--><div class="VPNavBarSearch search" data-v-7cd5de9c><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="搜索文档"><span class="DocSearch-Button-Container"><span class="vp-icon DocSearch-Search-Icon"></span><span class="DocSearch-Button-Placeholder">搜索文档</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-7cd5de9c data-v-7cc9c189><span id="main-nav-aria-label" class="visually-hidden" data-v-7cc9c189> Main Navigation </span><!--[--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-7cc9c189 data-v-1dd0e4da><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-1dd0e4da><span class="text" data-v-1dd0e4da><!----><span data-v-1dd0e4da>常用</span><span class="vpi-chevron-down text-icon" data-v-1dd0e4da></span></span></button><div class="menu" data-v-1dd0e4da><div class="VPMenu" data-v-1dd0e4da data-v-8a5b600a><div class="items" data-v-8a5b600a><!--[--><!--[--><div class="VPMenuGroup" data-v-8a5b600a data-v-f572c90f><!----><!--[--><!--[--><div class="VPMenuLink" data-v-f572c90f data-v-a548e56f><a class="VPLink link" href="/everything-goes-well-public/zh/templates/Index" data-v-a548e56f><!--[--><span data-v-a548e56f>个人开发模板</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-f572c90f data-v-a548e56f><a class="VPLink link" href="/everything-goes-well-public/zh/grammars/Index" data-v-a548e56f><!--[--><span data-v-a548e56f>常用语法</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-f572c90f data-v-a548e56f><a class="VPLink link" href="/everything-goes-well-public/zh/functions/%E5%BE%AE%E4%BF%A1%E6%89%AB%E7%A0%81%E7%99%BB%E5%BD%95" data-v-a548e56f><!--[--><span data-v-a548e56f>常用功能</span><!--]--></a></div><!--]--><!--]--></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/everything-goes-well-public/zh/vue/Index" tabindex="0" data-v-7cc9c189 data-v-92456d69><!--[--><span data-v-92456d69>Vue</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink active" href="/everything-goes-well-public/zh/electron/Index" tabindex="0" data-v-7cc9c189 data-v-92456d69><!--[--><span data-v-92456d69>Electron</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/everything-goes-well-public/zh/uniapp/Index" tabindex="0" data-v-7cc9c189 data-v-92456d69><!--[--><span data-v-92456d69>uni-app</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/everything-goes-well-public/zh/styles/Index" tabindex="0" data-v-7cc9c189 data-v-92456d69><!--[--><span data-v-92456d69>样式</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/everything-goes-well-public/zh/others/Index" tabindex="0" data-v-7cc9c189 data-v-92456d69><!--[--><span data-v-92456d69>杂七杂八</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/everything-goes-well-public/zh/bugs/Index" tabindex="0" data-v-7cc9c189 data-v-92456d69><!--[--><span data-v-92456d69>Bug</span><!--]--></a><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-7cc9c189 data-v-1dd0e4da><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-1dd0e4da><span class="text" data-v-1dd0e4da><!----><span data-v-1dd0e4da>设置</span><span class="vpi-chevron-down text-icon" data-v-1dd0e4da></span></span></button><div class="menu" data-v-1dd0e4da><div class="VPMenu" data-v-1dd0e4da data-v-8a5b600a><div class="items" data-v-8a5b600a><!--[--><!--[--><div class="set" data-v-8a5b600a data-v-d9dc8017><div class="set-input" data-v-d9dc8017><input type="text" value="" style="width:100px;padding:0 6px;" data-v-d9dc8017></div><div style="display:none;" class="" data-v-d9dc8017><div class="set-switch" data-v-d9dc8017><div class="" data-v-d9dc8017>隐藏左侧</div><div class="custom-checkbox" data-v-d9dc8017><input type="checkbox" data-v-d9dc8017></div></div><div class="set-switch" data-v-d9dc8017><div class="" data-v-d9dc8017>隐藏右侧</div><div class="custom-checkbox" data-v-d9dc8017><input type="checkbox" data-v-d9dc8017></div></div><div class="set-switch" data-v-d9dc8017><div class="" data-v-d9dc8017>全屏</div><div class="custom-checkbox" data-v-d9dc8017><input type="checkbox" data-v-d9dc8017></div></div></div></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-7cd5de9c data-v-f16bf43a><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-f16bf43a data-v-9ec7c3ff data-v-f63253c3><span class="check" data-v-f63253c3><span class="icon" data-v-f63253c3><!--[--><span class="vpi-sun sun" data-v-9ec7c3ff></span><span class="vpi-moon moon" data-v-9ec7c3ff></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-7cd5de9c data-v-b925a4f2 data-v-6a9f60a3><!--[--><a class="VPSocialLink no-icon" href="https://github.com/dcdy/everything-goes-well/" aria-label="github" target="_blank" rel="noopener" data-v-6a9f60a3 data-v-680784e2><span class="vpi-social-github"></span></a><a class="VPSocialLink no-icon" href="https://gitee.com/xia_mei_ting/everything-goes-well" aria-label target="_blank" rel="noopener" data-v-6a9f60a3 data-v-680784e2><svg t="1727428813465" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2268" width="200" height="200"><path d="M512 1024C229.222 1024 0 794.778 0 512S229.222 0 512 0s512 229.222 512 512-229.222 512-512 512z m259.149-568.883h-290.74a25.293 25.293 0 0 0-25.292 25.293l-0.026 63.206c0 13.952 11.315 25.293 25.267 25.293h177.024c13.978 0 25.293 11.315 25.293 25.267v12.646a75.853 75.853 0 0 1-75.853 75.853h-240.23a25.293 25.293 0 0 1-25.267-25.293V417.203a75.853 75.853 0 0 1 75.827-75.853h353.946a25.293 25.293 0 0 0 25.267-25.292l0.077-63.207a25.293 25.293 0 0 0-25.268-25.293H417.152a189.62 189.62 0 0 0-189.62 189.645V771.15c0 13.977 11.316 25.293 25.294 25.293h372.94a170.65 170.65 0 0 0 170.65-170.65V480.384a25.293 25.293 0 0 0-25.293-25.267z" fill="#C71D23" p-id="2269"></path></svg></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-7cd5de9c data-v-59ed6008 data-v-1dd0e4da><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-1dd0e4da><span class="vpi-more-horizontal icon" data-v-1dd0e4da></span></button><div class="menu" data-v-1dd0e4da><div class="VPMenu" data-v-1dd0e4da data-v-8a5b600a><!----><!--[--><!--[--><!----><div class="group" data-v-59ed6008><div class="item appearance" data-v-59ed6008><p class="label" data-v-59ed6008>主题</p><div class="appearance-action" data-v-59ed6008><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-59ed6008 data-v-9ec7c3ff data-v-f63253c3><span class="check" data-v-f63253c3><span class="icon" data-v-f63253c3><!--[--><span class="vpi-sun sun" data-v-9ec7c3ff></span><span class="vpi-moon moon" data-v-9ec7c3ff></span><!--]--></span></span></button></div></div></div><div class="group" data-v-59ed6008><div class="item social-links" data-v-59ed6008><div class="VPSocialLinks social-links-list" data-v-59ed6008 data-v-6a9f60a3><!--[--><a class="VPSocialLink no-icon" href="https://github.com/dcdy/everything-goes-well/" aria-label="github" target="_blank" rel="noopener" data-v-6a9f60a3 data-v-680784e2><span class="vpi-social-github"></span></a><a class="VPSocialLink no-icon" href="https://gitee.com/xia_mei_ting/everything-goes-well" aria-label target="_blank" rel="noopener" data-v-6a9f60a3 data-v-680784e2><svg t="1727428813465" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2268" width="200" height="200"><path d="M512 1024C229.222 1024 0 794.778 0 512S229.222 0 512 0s512 229.222 512 512-229.222 512-512 512z m259.149-568.883h-290.74a25.293 25.293 0 0 0-25.292 25.293l-0.026 63.206c0 13.952 11.315 25.293 25.267 25.293h177.024c13.978 0 25.293 11.315 25.293 25.267v12.646a75.853 75.853 0 0 1-75.853 75.853h-240.23a25.293 25.293 0 0 1-25.267-25.293V417.203a75.853 75.853 0 0 1 75.827-75.853h353.946a25.293 25.293 0 0 0 25.267-25.292l0.077-63.207a25.293 25.293 0 0 0-25.268-25.293H417.152a189.62 189.62 0 0 0-189.62 189.645V771.15c0 13.977 11.316 25.293 25.294 25.293h372.94a170.65 170.65 0 0 0 170.65-170.65V480.384a25.293 25.293 0 0 0-25.293-25.267z" fill="#C71D23" p-id="2269"></path></svg></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-7cd5de9c data-v-43e681ad><span class="container" data-v-43e681ad><span class="top" data-v-43e681ad></span><span class="middle" data-v-43e681ad></span><span class="bottom" data-v-43e681ad></span></span></button></div></div></div></div><div class="divider" data-v-7cd5de9c><div class="divider-line" data-v-7cd5de9c></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-6c7cdc44 data-v-5aa4a9cd><div class="container" data-v-5aa4a9cd><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-5aa4a9cd><span class="vpi-align-left menu-icon" data-v-5aa4a9cd></span><span class="menu-text" data-v-5aa4a9cd>菜单</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-5aa4a9cd data-v-199e09cc><button data-v-199e09cc>回到顶部</button><!----></div></div></div><aside class="VPSidebar" data-v-6c7cdc44 data-v-0d56a8ed><div class="curtain" data-v-0d56a8ed></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-0d56a8ed><span class="visually-hidden" id="sidebar-aria-label" data-v-0d56a8ed> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-9f129a04><section class="VPSidebarItem level-0 has-active" data-v-9f129a04 data-v-ef687795><div class="item" role="button" tabindex="0" data-v-ef687795><div class="indicator" data-v-ef687795></div><h2 class="text" data-v-ef687795>Electron</h2><!----></div><div class="items" data-v-ef687795><!--[--><div class="VPSidebarItem level-1 is-link" data-v-ef687795 data-v-ef687795><div class="item" data-v-ef687795><div class="indicator" data-v-ef687795></div><a class="VPLink link link" href="/everything-goes-well-public/zh/electron/Index" data-v-ef687795><!--[--><p class="text" data-v-ef687795>基础知识</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-ef687795 data-v-ef687795><div class="item" data-v-ef687795><div class="indicator" data-v-ef687795></div><a class="VPLink link link" href="/everything-goes-well-public/zh/electron/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F" data-v-ef687795><!--[--><p class="text" data-v-ef687795>操作系统</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-ef687795 data-v-ef687795><div class="item" data-v-ef687795><div class="indicator" data-v-ef687795></div><a class="VPLink link link" href="/everything-goes-well-public/zh/electron/%E9%85%8D%E7%BD%AE" data-v-ef687795><!--[--><p class="text" data-v-ef687795>配置</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-ef687795 data-v-ef687795><div class="item" data-v-ef687795><div class="indicator" data-v-ef687795></div><a class="VPLink link link" href="/everything-goes-well-public/zh/electron/%E7%9B%B4%E6%92%AD%E7%9B%B8%E5%85%B3" data-v-ef687795><!--[--><p class="text" data-v-ef687795>直播相关</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-6c7cdc44 data-v-be6b543f><div class="VPDoc has-sidebar has-aside" data-v-be6b543f data-v-aa13f155><!--[--><!--]--><div class="container" data-v-aa13f155><div class="aside" data-v-aa13f155><div class="aside-curtain" data-v-aa13f155></div><div class="aside-container" data-v-aa13f155><div class="aside-content" data-v-aa13f155><div class="VPDocAside" data-v-aa13f155 data-v-ac0489e8><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-ac0489e8 data-v-3047726d><div class="content" data-v-3047726d><div class="outline-marker" data-v-3047726d></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-3047726d>页面导航</div><ul class="VPDocOutlineItem root" data-v-3047726d data-v-c25fc99c><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-ac0489e8></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-aa13f155><div class="content-container" data-v-aa13f155><!--[--><!--]--><main class="main" data-v-aa13f155><div style="position:relative;" class="vp-doc _everything-goes-well-public_zh_electron_%E7%9B%B4%E6%92%AD%E7%9B%B8%E5%85%B3 external-link-icon-enabled" data-v-aa13f155><div><h1 id="直播相关" tabindex="-1">直播相关 <a class="header-anchor" href="#直播相关" aria-label="Permalink to &quot;直播相关&quot;">​</a></h1><h2 id="硬件-screen-system" tabindex="-1">硬件（screen，system） <a class="header-anchor" href="#硬件-screen-system" aria-label="Permalink to &quot;硬件（screen，system）&quot;">​</a></h2><h3 id="_1-获取主显示器信息" tabindex="-1">1.获取主显示器信息 <a class="header-anchor" href="#_1-获取主显示器信息" aria-label="Permalink to &quot;1.获取主显示器信息&quot;">​</a></h3><blockquote><p><strong>preload.js</strong></p></blockquote><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">contextBridge</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">exposeInMainWorld</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&#39;electronAPI&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, {</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">    // 获取主显示器信息</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">    screenMainMessage</span><span style="--shiki-light:#0184BC;--shiki-dark:#9CDCFE;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> () </span><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">=&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;"> ipcRenderer</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">invoke</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&#39;screen-mainMessage&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">});</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><blockquote><p><strong>ipcMain.js</strong></p></blockquote><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">// 获取主显示器信息</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">ipcMain</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">handle</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&#39;screen-mainMessage&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, () </span><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">=&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C586C0;">    return</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;"> screen</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">getPrimaryDisplay</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">();</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">});</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><blockquote><p><strong>.vue</strong></p></blockquote><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">// 获取主显示器信息</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">async</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;"> screenMainMessage</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">() {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">    let</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;"> mainScreen</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#A626A4;--shiki-dark:#C586C0;"> await</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;"> window</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">electronAPI</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">screenMainMessage</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">();</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">    console</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">log</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&quot;获取主显示器信息:&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">mainScreen</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">    // 判断是不是外接显示器是调用screen.getAllDisplay()</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">    // bounds:(绑定区域)</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">    //     height: 1080</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">    //     width: 1920</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">    //     x: 0</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">    //     y: 0</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">    // 如果x或y不是0，就是外接显示器</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">},</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h3 id="_2-获取全部设备信息" tabindex="-1">2.获取全部设备信息 <a class="header-anchor" href="#_2-获取全部设备信息" aria-label="Permalink to &quot;2.获取全部设备信息&quot;">​</a></h3><blockquote><p><strong>preload.js</strong></p></blockquote><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">contextBridge</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">exposeInMainWorld</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&#39;electronAPI&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, {</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">    // 获取主显示器信息</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">    screenMainMessage</span><span style="--shiki-light:#0184BC;--shiki-dark:#9CDCFE;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> () </span><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">=&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;"> ipcRenderer</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">invoke</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&#39;screen-mainMessage&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">});</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><blockquote><p><strong>ipcMain.js</strong></p></blockquote><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">// 获取主显示器信息</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">ipcMain</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">handle</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&#39;screen-mainMessage&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, () </span><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">=&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C586C0;">    return</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;"> screen</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">getPrimaryDisplay</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">();</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">});</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><blockquote><p><strong>.vue</strong></p></blockquote><div class="language-html vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">html</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#808080;">&lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#569CD6;">el-select</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#9CDCFE;">    v-model</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&quot;audioValue&quot;</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#9CDCFE;">    placeholder</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&quot;请选择扬声器&quot;</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#9CDCFE;">    @change</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&quot;audioChange&quot;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#808080;">    &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#569CD6;">el-option</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#9CDCFE;">        v-for</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&quot;item in audioOptions&quot;</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#9CDCFE;">        :key</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&quot;item.deviceId&quot;</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#9CDCFE;">        :label</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&quot;item.label&quot;</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#9CDCFE;">        :value</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&quot;item.deviceId&quot;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#808080;">    &gt;&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#569CD6;">el-option</span><span style="--shiki-light:#383A42;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#569CD6;">el-select</span><span style="--shiki-light:#383A42;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#808080;">&lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#569CD6;">el-select</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#9CDCFE;">    v-model</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&quot;microphoneValue&quot;</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#9CDCFE;">    placeholder</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&quot;请选择麦克风&quot;</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#9CDCFE;">    @change</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&quot;microphoneChange&quot;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#808080;">    &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#569CD6;">el-option</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#9CDCFE;">        v-for</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&quot;item in microphoneOptions&quot;</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#9CDCFE;">        :key</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&quot;item.deviceId&quot;</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#9CDCFE;">        :label</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&quot;item.label&quot;</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#9CDCFE;">        :value</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&quot;item.deviceId&quot;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#808080;">    &gt;&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#569CD6;">el-option</span><span style="--shiki-light:#383A42;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#569CD6;">el-select</span><span style="--shiki-light:#383A42;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#808080;">&lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#569CD6;">el-select</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#9CDCFE;">    v-model</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&quot;videoValue&quot;</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#9CDCFE;">    placeholder</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&quot;请选择摄像头&quot;</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#9CDCFE;">    @change</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&quot;videoChange&quot;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#808080;">    &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#569CD6;">el-option</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#9CDCFE;">        v-for</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&quot;item in videoOptions&quot;</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#9CDCFE;">        :key</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&quot;item.deviceId&quot;</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#9CDCFE;">        :label</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&quot;item.label&quot;</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#9CDCFE;">        :value</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&quot;item.deviceId&quot;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#808080;">    &gt;&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#569CD6;">el-option</span><span style="--shiki-light:#383A42;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#569CD6;">el-select</span><span style="--shiki-light:#383A42;--shiki-dark:#808080;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br></div></div><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">// 扬声器的选中值和选项</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#C8C8C8;">audioValue</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#C8C8C8;">audioOptions</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">: [],</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">// 麦克风的选中值和选项</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#C8C8C8;">microphoneValue</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#C8C8C8;">microphoneOptions</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">: [],</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">// 摄像头的选中值和选项</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#C8C8C8;">videoValue</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#C8C8C8;">videoOptions</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">: [],</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">mounted</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">() {</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">	// 获取全部设备</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#569CD6;">	this</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">getAllDevice</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">()</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">// 获取全部设备</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">getAllDevice</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">() {</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">    // 获取全部设备并区分每个类型的设备进行选项选择</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">    navigator</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">mediaDevices</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">enumerateDevices</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">().</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">then</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">((</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">res</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">=&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">        console</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">log</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&quot;&gt;&gt;&gt;&gt;&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">res</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // 存每个类型的默认设备的groupId供比对</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">        let</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;"> defauleAudiooutputDevice</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> &quot;&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">        let</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;"> defauleAudioinputDevice</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> &quot;&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // let defaulevideoDevice = &#39;&#39;;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">        res</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">map</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">((</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">item</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">=&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C586C0;">            switch</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> (</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">item</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">kind</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">) {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C586C0;">                case</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> &quot;audiooutput&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">:</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">                    // 扬声器</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C586C0;">                    if</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> (</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">                        item</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">deviceId</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> !=</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> &quot;default&quot;</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> &amp;&amp;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">                        item</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">deviceId</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> !=</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> &quot;communications&quot;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">                    ) {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#569CD6;">                        this</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">audioOptions</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">push</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">({</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">                            deviceId</span><span style="--shiki-light:#0184BC;--shiki-dark:#9CDCFE;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;"> item</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">deviceId</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">                            label</span><span style="--shiki-light:#0184BC;--shiki-dark:#9CDCFE;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;"> item</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">label</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">                            groupId</span><span style="--shiki-light:#0184BC;--shiki-dark:#9CDCFE;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;"> item</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">groupId</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">                        });</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">                    }</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C586C0;">                    if</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> (</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">item</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">deviceId</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> ==</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> &quot;default&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">) {</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">                        defauleAudiooutputDevice</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;"> item</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">groupId</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">                    }</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C586C0;">                    break</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C586C0;">                case</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> &quot;audioinput&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">:</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">                    // 扬声器</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C586C0;">                    if</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> (</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">                        item</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">deviceId</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> !=</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> &quot;default&quot;</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> &amp;&amp;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">                        item</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">deviceId</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> !=</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> &quot;communications&quot;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">                    ) {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#569CD6;">                        this</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">microphoneOptions</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">push</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">({</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">                            deviceId</span><span style="--shiki-light:#0184BC;--shiki-dark:#9CDCFE;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;"> item</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">deviceId</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">                            label</span><span style="--shiki-light:#0184BC;--shiki-dark:#9CDCFE;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;"> item</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">label</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">                            groupId</span><span style="--shiki-light:#0184BC;--shiki-dark:#9CDCFE;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;"> item</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">groupId</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">                        });</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">                    }</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C586C0;">                    if</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> (</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">item</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">deviceId</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> ==</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> &quot;default&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">) {</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">                        defauleAudioinputDevice</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;"> item</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">groupId</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">                    }</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C586C0;">                    break</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C586C0;">                case</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> &quot;videoinput&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">:</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">                    // 扬声器</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C586C0;">                    if</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> (</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">                        item</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">deviceId</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> !=</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> &quot;default&quot;</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> &amp;&amp;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">                        item</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">deviceId</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> !=</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> &quot;communications&quot;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">                    ) {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#569CD6;">                        this</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">videoOptions</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">push</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">({</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">                            deviceId</span><span style="--shiki-light:#0184BC;--shiki-dark:#9CDCFE;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;"> item</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">deviceId</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">                            label</span><span style="--shiki-light:#0184BC;--shiki-dark:#9CDCFE;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;"> item</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">label</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">                            groupId</span><span style="--shiki-light:#0184BC;--shiki-dark:#9CDCFE;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;"> item</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">groupId</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">                        });</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">                    }</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C586C0;">                    break</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C586C0;">                default</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">:</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C586C0;">                    break</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">            }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">        });</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // 默认扬声器</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#569CD6;">        this</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">audioValue</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#E45649;--shiki-dark:#569CD6;"> this</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">audioOptions</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">find</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">            (</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">ele</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">=&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;"> ele</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">groupId</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> ==</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;"> defauleAudiooutputDevice</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">        ).</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">deviceId</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // 默认麦克风</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#569CD6;">        this</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">microphoneValue</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#E45649;--shiki-dark:#569CD6;"> this</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">microphoneOptions</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">find</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">            (</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">ele</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">=&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;"> ele</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">groupId</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> ==</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;"> defauleAudioinputDevice</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">        ).</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">deviceId</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // 默认摄像头</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#569CD6;">        this</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">videoValue</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#E45649;--shiki-dark:#569CD6;"> this</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">videoOptions</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">[</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">].</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">deviceId</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">    })</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">    .</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">catch</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">((</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">err</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">=&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">        console</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">log</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&quot;deviceserr&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">err</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#569CD6;">        this</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">$message</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">error</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&quot;获取设备信息失败，请重试&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">    });</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">},</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br></div></div><h3 id="_3-检测切换扬声器设备" tabindex="-1">3.检测切换扬声器设备 <a class="header-anchor" href="#_3-检测切换扬声器设备" aria-label="Permalink to &quot;3.检测切换扬声器设备&quot;">​</a></h3><div class="language-html vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">html</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#808080;">&lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#569CD6;">audio</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#9CDCFE;">    loop</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&quot;loop&quot;</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#9CDCFE;">    ref</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&quot;speakerAudio&quot;</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#9CDCFE;">    src</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&quot;https://yixue-test.oss-cn-shanghai.aliyuncs.com/test.mp3&quot;</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#9CDCFE;">    controls</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&quot;controls&quot;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#808080;">&gt;&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#569CD6;">audio</span><span style="--shiki-light:#383A42;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#808080;">&lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#569CD6;">el-slider</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#9CDCFE;">    :show-tooltip</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&quot;false&quot;</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#9CDCFE;">    v-model</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&quot;audioVolume&quot;</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#9CDCFE;">    @input</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&quot;changeAudioVolume&quot;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#808080;">&gt;&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#569CD6;">el-slider</span><span style="--shiki-light:#383A42;--shiki-dark:#808080;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">// 切换扬声器设备</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">audioChange</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">e</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">) {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">    console</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">log</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&quot;选中&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">e</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#569CD6;">    this</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">$refs</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">speakerAudio</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">setSinkId</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">e</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">); </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">//设置扬声器</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">},</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">// 调节音量大小</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">changeAudioVolume</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">e</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">) {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#569CD6;">    this</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">$refs</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">speakerAudio</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">volume</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;"> e</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> /</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;"> 100</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">},</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h3 id="_4-检测切换麦克风设备" tabindex="-1">4.检测切换麦克风设备 <a class="header-anchor" href="#_4-检测切换麦克风设备" aria-label="Permalink to &quot;4.检测切换麦克风设备&quot;">​</a></h3><div class="language-html vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">html</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#808080;">&lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#569CD6;">div</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#9CDCFE;">    class</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&quot;&quot;</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#9CDCFE;">    @click</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&quot;setCheckMicrophone()&quot;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">    开启检测麦克风</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#569CD6;">div</span><span style="--shiki-light:#383A42;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#808080;">&lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#569CD6;">div</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#9CDCFE;">    class</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&quot;&quot;</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#9CDCFE;">    @click</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&quot;closeCheckMicrophone()&quot;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">    关闭检测麦克风</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#569CD6;">div</span><span style="--shiki-light:#383A42;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#808080;">&lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#569CD6;">div</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#9CDCFE;">    class</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&quot;&quot;</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#9CDCFE;">    @click</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&quot;resumeCheckMicrophone()&quot;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">    继续检测麦克风</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#569CD6;">div</span><span style="--shiki-light:#383A42;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#808080;">&lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#569CD6;">div</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#9CDCFE;">    class</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&quot;&quot;</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#9CDCFE;">    @click</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&quot;suspendCheckMicrophone()&quot;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">    暂停检测麦克风</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#569CD6;">div</span><span style="--shiki-light:#383A42;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">&lt;!-- 麦克风音量大小 --&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#808080;">&lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#569CD6;">el-progress</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#9CDCFE;">    :percentage</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&quot;microphoneVoice&quot;</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#9CDCFE;">    :show-text</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&quot;false&quot;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#808080;">&gt;&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#569CD6;">el-progress</span><span style="--shiki-light:#383A42;--shiki-dark:#808080;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">// 获取麦克风音量的示例对象</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#C8C8C8;">audioContext</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&quot;&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#C8C8C8;">analyser</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&quot;&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#C8C8C8;">microphone</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&quot;&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#C8C8C8;">recordEventNode</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&quot;&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#C8C8C8;">microphoneVoice</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">//麦克风音量</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#C8C8C8;">audioVolume</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">100</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">//扬声器音量</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;"> // 切换麦克风设备</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;"> microphoneChange</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">e</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">) {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">     console</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">log</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&quot;选中&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">e</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#569CD6;">     this</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">microphoneVoice</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;"> 0</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#569CD6;">     this</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">setCheckMicrophone</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">e</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> },</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><blockquote><p><strong>preload.js</strong></p></blockquote><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">contextBridge</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">exposeInMainWorld</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&#39;electronAPI&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, {</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">    // 检测麦克风</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">    setCheckMicrophone</span><span style="--shiki-light:#0184BC;--shiki-dark:#9CDCFE;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> (</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">mediaType</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">=&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;"> ipcRenderer</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">invoke</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&#39;system-microphone&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">mediaType</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">});</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><blockquote><p><strong>ipcMain.js</strong></p></blockquote><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">// 获取麦克风设备信息</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">ipcMain</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">handle</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&#39;system-microphone&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, (</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">e</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">mediaType</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">=&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C586C0;">    return</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;"> systemPreferences</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">getMediaAccessStatus</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">mediaType</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">});</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><blockquote><p>.<strong>vue</strong></p></blockquote><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">// 开启检测麦克风</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">setCheckMicrophone</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">deviceId</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">) {</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">    // const status = window.electronAPI.remote.systemPreferences.getMediaAccessStatus(&#39;screen&#39;)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">    window</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">electronAPI</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">setCheckMicrophone</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&quot;microphone&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">).</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">then</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">((</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">res</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">=&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">        const</span><span style="--shiki-light:#986801;--shiki-dark:#4FC1FF;"> status</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;"> res</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">        console</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">log</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&quot;status&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">status</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C586C0;">        if</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> (</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">status</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> ==</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> &quot;granted&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">) {</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">            // const constrains = { audio: true }</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">            const</span><span style="--shiki-light:#986801;--shiki-dark:#4FC1FF;"> constrains</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">                audio</span><span style="--shiki-light:#0184BC;--shiki-dark:#9CDCFE;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">                    deviceId</span><span style="--shiki-light:#0184BC;--shiki-dark:#9CDCFE;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;"> deviceId</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">                },</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">            };</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">            navigator</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">mediaDevices</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">                .</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">getUserMedia</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">constrains</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">                .</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">then</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">((</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">stream</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">=&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">                    console</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">log</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">stream</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#569CD6;">                    this</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">openRecordSuccess</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">stream</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">                })</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">                .</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">catch</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">((</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">err</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">=&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#569CD6;">                    this</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">openRecordError</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">err</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">                });</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">        }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">    });</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">},</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">// 麦克风调用成功回调</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">openRecordSuccess</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">stream</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">) {</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">    // AudioContext接口表示由链接在一起的音频模块构建的音频处理图，每个模块由一个AudioNode表示。音频上下文控制它包含的节点的创建和音频处理或解码的执行</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#569CD6;">    this</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">audioContext</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;"> new</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;"> AudioContext</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">();</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">    console</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">log</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&quot;this.audioContext&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#E45649;--shiki-dark:#569CD6;">this</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">audioContext</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">    // 创建分析</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#569CD6;">    this</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">analyser</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#E45649;--shiki-dark:#569CD6;"> this</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">audioContext</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">createAnalyser</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">();</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">    console</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">log</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&quot;this.analyser&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#E45649;--shiki-dark:#569CD6;">this</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">analyser</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">    // 用于创建一个新的MediaElementAudioSourceNode对象,输入某个存在的 HTMLor` 元素, 对应的音频即可被播放或者修改.</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#569CD6;">    this</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">microphone</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#E45649;--shiki-dark:#569CD6;"> this</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">audioContext</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">createMediaStreamSource</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">stream</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">    console</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">log</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&quot;this.microphone&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#E45649;--shiki-dark:#569CD6;">this</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">microphone</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">    // 记录事件节点</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#569CD6;">    this</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">recordEventNode</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#E45649;--shiki-dark:#569CD6;"> this</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">audioContext</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">createScriptProcessor</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">        2048</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">        1</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">        1</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">    );</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">    console</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">log</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&quot;this.recordEventNode&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#E45649;--shiki-dark:#569CD6;">this</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">recordEventNode</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">    // https://developer.mozilla.org/zh-CN/docs/Web/API/AnalyserNode/smoothingTimeConstant</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#569CD6;">    this</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">analyser</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">smoothingTimeConstant</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;"> 0.8</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">    // 表示（信号）样本的窗口大小，默认值为 2048</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">    // https://developer.mozilla.org/zh-CN/docs/Web/API/AnalyserNode/fftSize</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#569CD6;">    this</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">analyser</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">fftSize</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;"> 1024</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#569CD6;">    this</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">microphone</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">connect</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#E45649;--shiki-dark:#569CD6;">this</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">analyser</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#569CD6;">    this</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">analyser</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">connect</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#E45649;--shiki-dark:#569CD6;">this</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">recordEventNode</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#569CD6;">    this</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">recordEventNode</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">connect</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#E45649;--shiki-dark:#569CD6;">this</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">audioContext</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">destination</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#569CD6;">    this</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">recordEventNode</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">addEventListener</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">        &quot;audioprocess&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#569CD6;">        this</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">analyzeMicrophoneVolume</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">    );</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">},</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">// 麦克风调用失败回调</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">openRecordError</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">error</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">) {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">    console</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">log</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&quot;访问用户媒体设备失败：&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">error</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#569CD6;">    this</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">$message</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">error</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&quot;获取麦克风设备失败，请重试&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">},</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br></div></div><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">// 关闭检测麦克风</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">closeCheckMicrophone</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">() {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#569CD6;">    this</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">audioContext</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">close</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">();</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">    setTimeout</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(() </span><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">=&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#569CD6;">        this</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">microphoneVoice</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;"> 0</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">        console</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">log</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&quot;this.microphoneVoice&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#E45649;--shiki-dark:#569CD6;">this</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">microphoneVoice</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">    }, </span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">500</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">},</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">// 继续检测麦克风</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">resumeCheckMicrophone</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">() {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#569CD6;">    this</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">audioContext</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">resume</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">();</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">},</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">// 暂停检测麦克风</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">suspendCheckMicrophone</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">() {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#569CD6;">    this</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">audioContext</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">suspend</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">();</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">},</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">// 实时获取麦克风音量大小</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#C8C8C8;">analyzeMicrophoneVolume</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">throttle</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">function</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> () {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">    const</span><span style="--shiki-light:#986801;--shiki-dark:#4FC1FF;"> array</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;"> new</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;"> Uint8Array</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#E45649;--shiki-dark:#569CD6;">this</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">analyser</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">frequencyBinCount</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#569CD6;">    this</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">analyser</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">getByteFrequencyData</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">array</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">    let</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;"> values</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;"> 0</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">    const</span><span style="--shiki-light:#986801;--shiki-dark:#4FC1FF;"> length</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;"> array</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">length</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C586C0;">    for</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">let</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;"> i</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;"> 0</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">; </span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">i</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> &lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;"> length</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">; </span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">i</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">++</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">) {</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">        values</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> +=</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;"> array</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">[</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">i</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">];</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">    }</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">    // console.log(&#39;this.array&#39;,values);</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">    const</span><span style="--shiki-light:#986801;--shiki-dark:#4FC1FF;"> average</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;"> values</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> /</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;"> length</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">    // this.recordVolume = average</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#569CD6;">    this</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">microphoneVoice</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">        Math</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">round</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">average</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">) </span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">&gt;</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;"> 100</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> ?</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;"> 100</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> :</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;"> Math</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">round</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">average</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">    console</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">log</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&quot;音量大小：&quot;</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> +</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;"> Math</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">round</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">average</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">));</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">}, </span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">300</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">),</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h3 id="_5-检测切换摄像头设备" tabindex="-1">5.检测切换摄像头设备 <a class="header-anchor" href="#_5-检测切换摄像头设备" aria-label="Permalink to &quot;5.检测切换摄像头设备&quot;">​</a></h3><div class="language-html vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">html</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#808080;">&lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#569CD6;">video</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#9CDCFE;">    ref</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&quot;video&quot;</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#9CDCFE;">    style</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#CE9178;">width: 300px; height: 300px</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#9CDCFE;">    src</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&quot;&quot;</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#9CDCFE;">    autoplay</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#9CDCFE;">    muted</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#9CDCFE;">    controls</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#9CDCFE;">    playsinline</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#808080;">&gt;&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#569CD6;">video</span><span style="--shiki-light:#383A42;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#808080;">&lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#569CD6;">div</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#9CDCFE;">    class</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&quot;&quot;</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#9CDCFE;">    @click</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&quot;getVideoStream()&quot;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">    获取视频流摄像头</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#569CD6;">div</span><span style="--shiki-light:#383A42;--shiki-dark:#808080;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">// 切换摄像头设备</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">videoChange</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">e</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">) {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">    console</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">log</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&quot;选中&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">e</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#569CD6;">    this</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">getVideoStream</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">();</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">},</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">// 获取摄像头视频流</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">getVideoStream</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">() {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">    let</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;"> option</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">        audio</span><span style="--shiki-light:#0184BC;--shiki-dark:#9CDCFE;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">            deviceId</span><span style="--shiki-light:#0184BC;--shiki-dark:#9CDCFE;">:</span><span style="--shiki-light:#E45649;--shiki-dark:#569CD6;"> this</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">microphoneValue</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">        },</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">        video</span><span style="--shiki-light:#0184BC;--shiki-dark:#9CDCFE;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">            deviceId</span><span style="--shiki-light:#0184BC;--shiki-dark:#9CDCFE;">:</span><span style="--shiki-light:#E45649;--shiki-dark:#569CD6;"> this</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">videoValue</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">        },</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">    };</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">    let</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;"> video</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#E45649;--shiki-dark:#569CD6;"> this</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">$refs</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">video</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">    navigator</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">mediaDevices</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">        .</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">getUserMedia</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">option</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">        .</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">then</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">((</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">res</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">=&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">            console</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">log</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&quot;mediaStream&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">res</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">            video</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">srcObject</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;"> res</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">            video</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">onloadedmetadata</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;"> function</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> (</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">e</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">) {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">                console</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">log</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&quot;onloadedmetadata&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">e</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">                // video.play()</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">            };</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">        })</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">        .</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">catch</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">((</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">err</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">=&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">            console</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">log</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&quot;err&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">err</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#569CD6;">        	this</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">$message</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">error</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&quot;获取摄像头视频流失败，请重试&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">        });</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">},</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><h2 id="webrtc" tabindex="-1">WebRTC <a class="header-anchor" href="#webrtc" aria-label="Permalink to &quot;WebRTC&quot;">​</a></h2><h3 id="屏幕共享" tabindex="-1">屏幕共享 <a class="header-anchor" href="#屏幕共享" aria-label="Permalink to &quot;屏幕共享&quot;">​</a></h3><blockquote><h4 id="下面的代码改动在-media-manager-js" tabindex="-1">下面的代码改动在 media_manager.js <a class="header-anchor" href="#下面的代码改动在-media-manager-js" aria-label="Permalink to &quot;下面的代码改动在 media_manager.js&quot;">​</a></h4></blockquote><h4 id="_1-谷歌浏览器的屏幕共享" tabindex="-1">1.谷歌浏览器的屏幕共享 <a class="header-anchor" href="#_1-谷歌浏览器的屏幕共享" aria-label="Permalink to &quot;1.谷歌浏览器的屏幕共享&quot;">​</a></h4><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">navigator</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">mediaDevices</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">getDisplayMedia</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">().</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">then</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">fun</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>上面的 then 返回的值就是视频流，可以直接使用该流去合并</p><h4 id="_2-electron-的屏幕共享" tabindex="-1">2.electron 的屏幕共享 <a class="header-anchor" href="#_2-electron-的屏幕共享" aria-label="Permalink to &quot;2.electron 的屏幕共享&quot;">​</a></h4><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">desktopCapturer</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">    .</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">getSources</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">({ </span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">types</span><span style="--shiki-light:#0184BC;--shiki-dark:#9CDCFE;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> [</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&#39;window&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&#39;screen&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">], </span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">thumbnailSize</span><span style="--shiki-light:#0184BC;--shiki-dark:#9CDCFE;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> { </span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">width</span><span style="--shiki-light:#0184BC;--shiki-dark:#9CDCFE;">:</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;"> 800</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">height</span><span style="--shiki-light:#0184BC;--shiki-dark:#9CDCFE;">:</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;"> 600</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> } })</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">    .</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">then</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">fun</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>上面的 then 返回的值需要 navigator.mediaDevices.getUserMedia()去处理下后得到的流才能去合并</p><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">// TODO:因为是electron的原因需要使用getUserMedia再获取一下流对象</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">// 如果是屏幕共享全屏</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">let</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;"> videoMediaOption</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> {}</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C586C0;">if</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> (</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">videoId</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> ==</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> &quot;full&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">) {</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">	videoMediaOption</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">		audio</span><span style="--shiki-light:#0184BC;--shiki-dark:#9CDCFE;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">			mandatory</span><span style="--shiki-light:#0184BC;--shiki-dark:#9CDCFE;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">			  	chromeMediaSource</span><span style="--shiki-light:#0184BC;--shiki-dark:#9CDCFE;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> &#39;desktop&#39;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">			}</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">		},</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">		video</span><span style="--shiki-light:#0184BC;--shiki-dark:#9CDCFE;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">			mandatory</span><span style="--shiki-light:#0184BC;--shiki-dark:#9CDCFE;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> {</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">https</span><span style="--shiki-light:#0184BC;--shiki-dark:#9CDCFE;">:</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">//live.jingqin.top:5443</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">				chromeMediaSource</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&#39;desktop&#39;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">			}</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">		}</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">/</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">LiveApp</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">/</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">rest</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">/</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">v2</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">/</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">broadcasts</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">/</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">{{</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">id</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">}}</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">/</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">recording</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">/</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">{{</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">recording</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">-</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">status</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">}}</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">?</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">recordType</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">mp4</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">	}</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">} </span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">else</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> {</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">	// 如果是屏幕共享指定窗口</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">	let </span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">index</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;"> stream</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">findIndex</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">item</span><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;"> =&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;"> item</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">id</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> ==</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;"> videoId</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">	console.warn(</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&#39;.........index&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,index);</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">	videoMediaOption</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> {</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">		// audio: false,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">		audio</span><span style="--shiki-light:#0184BC;--shiki-dark:#9CDCFE;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">			mandatory</span><span style="--shiki-light:#0184BC;--shiki-dark:#9CDCFE;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">			  	chromeMediaSource</span><span style="--shiki-light:#0184BC;--shiki-dark:#9CDCFE;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> &#39;desktop&#39;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">			}</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">		},</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">		video</span><span style="--shiki-light:#0184BC;--shiki-dark:#9CDCFE;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">			mandatory</span><span style="--shiki-light:#0184BC;--shiki-dark:#9CDCFE;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">				chromeMediaSource</span><span style="--shiki-light:#0184BC;--shiki-dark:#9CDCFE;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> &#39;desktop&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">				chromeMediaSourceId</span><span style="--shiki-light:#0184BC;--shiki-dark:#9CDCFE;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;"> stream</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">[</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">index</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">].</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">id</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">				// minWidth: 1280,</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">				// maxWidth: 1280,</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">				// minHeight: 720,</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">				// maxHeight: 720</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">			}</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">		}</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">	}</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">}</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">navigator</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">mediaDevices</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">getUserMedia</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">videoMediaOption</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">).</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">then</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">res</span><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;"> =&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">	console</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">warn</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&#39;................,,,,,,,,,,stream2&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">res</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C586C0;">	if</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> (</span><span style="--shiki-light:#E45649;--shiki-dark:#569CD6;">this</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">smallVideoTrack</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#569CD6;">		this</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">smallVideoTrack</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">stop</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">();</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#569CD6;">	this</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">prepareStreamTracks</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">mediaConstraints</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">audioConstraint</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">res</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">streamId</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">})</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br></div></div><h2 id="真实共享桌面屏幕" tabindex="-1">真实共享桌面屏幕 <a class="header-anchor" href="#真实共享桌面屏幕" aria-label="Permalink to &quot;真实共享桌面屏幕&quot;">​</a></h2><h3 id="_1-窗口设置为透明" tabindex="-1">1.窗口设置为透明 <a class="header-anchor" href="#_1-窗口设置为透明" aria-label="Permalink to &quot;1.窗口设置为透明&quot;">​</a></h3><blockquote><p>background.js</p></blockquote><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">// 登录窗口</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">win</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;"> new</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;"> BrowserWindow</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">({</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">    // id: 1,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">    width</span><span style="--shiki-light:#0184BC;--shiki-dark:#9CDCFE;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;"> width</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">    height</span><span style="--shiki-light:#0184BC;--shiki-dark:#9CDCFE;">:</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;"> 1080</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">    minWidth</span><span style="--shiki-light:#0184BC;--shiki-dark:#9CDCFE;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;"> width</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">    minHeight</span><span style="--shiki-light:#0184BC;--shiki-dark:#9CDCFE;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;"> height</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">    frame</span><span style="--shiki-light:#0184BC;--shiki-dark:#9CDCFE;">:</span><span style="--shiki-light:#986801;--shiki-dark:#569CD6;"> false</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">//是否显示边缘框</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">    transparent</span><span style="--shiki-light:#0184BC;--shiki-dark:#9CDCFE;">:</span><span style="--shiki-light:#986801;--shiki-dark:#569CD6;"> true</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">// 窗口透明</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">    // icon: path.join(__dirname, &quot;/favicon.ico&quot;),</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">    backgroundColor</span><span style="--shiki-light:#0184BC;--shiki-dark:#9CDCFE;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> &quot;radial-gradient(#1b5083, #010204)&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">    // backgroundColor: &#39;#10000000&#39;,</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;"> // 背景色（10 透明度，000000 色值）</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><blockquote><p>ipcMain.js</p></blockquote><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">// 窗口改变背景色</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">ipcMain</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">on</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&#39;window-backgroundColor&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, (</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">e</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">color</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">=&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">    win</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">setBackgroundColor</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">color</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">});</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">// 窗口设置鼠标是否可以穿透</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">ipcMain</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">on</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&#39;window-setIgnoreMouseEvents&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, (</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">e</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">flag</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">=&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C586C0;">    if</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> (</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">flag</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">) {</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // 下面这行代表，只有点击事件会穿透窗口，鼠标移动事件仍会触发。</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">        win</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">setIgnoreMouseEvents</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#986801;--shiki-dark:#569CD6;">true</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, { </span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">forward</span><span style="--shiki-light:#0184BC;--shiki-dark:#9CDCFE;">:</span><span style="--shiki-light:#986801;--shiki-dark:#569CD6;"> true</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> });</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">    } </span><span style="--shiki-light:#A626A4;--shiki-dark:#C586C0;">else</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">        win</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">setIgnoreMouseEvents</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#986801;--shiki-dark:#569CD6;">false</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">    }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">});</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">// 窗口设置是否置顶</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">ipcMain</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">on</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&#39;window-setAlwaysOnTop&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, (</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">e</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">flag</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">=&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">    win</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">setAlwaysOnTop</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">flag</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&#39;pop-up-menu&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">    win</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">moveTop</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">();</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">    // 窗口置于顶部</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">});</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><blockquote><p>preload.js</p></blockquote><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">// 窗口改变背景色</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#C8C8C8;">windowBackgroundColor</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">: (</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">color</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">=&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;"> ipcRenderer</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">send</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&quot;window-backgroundColor&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">color</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">),</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">// 窗口设置鼠标是否可以穿透</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#C8C8C8;">windowSetIgnoreMouseEvents</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">: (</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">flag</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">=&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;"> ipcRenderer</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">send</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&quot;window-setIgnoreMouseEvents&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">flag</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">),</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">// 窗口设置是否置顶</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#C8C8C8;">windowSetAlwaysOnTop</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">: (</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">flag</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">=&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;"> ipcRenderer</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">send</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&quot;window-setAlwaysOnTop&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">flag</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">),</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="_2-调用改变背景色钩子使窗口透明" tabindex="-1">2.调用改变背景色钩子使窗口透明 <a class="header-anchor" href="#_2-调用改变背景色钩子使窗口透明" aria-label="Permalink to &quot;2.调用改变背景色钩子使窗口透明&quot;">​</a></h3><blockquote><p>.vue</p></blockquote><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">// 开始共享屏幕</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">startScreenShare</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(){</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#569CD6;">    this</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">isStartScreenShare</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#569CD6;"> true</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">    // 窗口设置为透明</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">    window</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">electronAPI</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">windowBackgroundColor</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&quot;#10000000&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">    // 窗口设置为鼠标可以穿透</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">    window</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">electronAPI</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">windowSetIgnoreMouseEvents</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#986801;--shiki-dark:#569CD6;">true</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">    // 窗口置顶</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">    window</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">electronAPI</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">windowSetAlwaysOnTop</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#986801;--shiki-dark:#569CD6;">true</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">// 结束共享屏幕</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">stopScreenShare</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(){</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#569CD6;">    this</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">isStartScreenShare</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#569CD6;"> false</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">    // 窗口设置为透明</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">    window</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">electronAPI</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">windowBackgroundColor</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&quot;radial-gradient(#1b5083, #010204)&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">    // 窗口不置顶</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">    window</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">electronAPI</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">windowSetAlwaysOnTop</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#986801;--shiki-dark:#569CD6;">false</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">    // 窗口设置为鼠标不可以穿透</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">    setTimeout</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(() </span><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">=&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">        window</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">electronAPI</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">windowSetIgnoreMouseEvents</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#986801;--shiki-dark:#569CD6;">false</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">    }, </span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">1000</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">mounted</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">() {</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">	// 实现鼠标移入指定区域时可以点击窗口内的元素</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">    let</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;"> el</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;"> document</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">getElementById</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&#39;screen-share&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">    el</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">onmouseenter</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> () </span><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">=&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> {</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // 窗口设置为鼠标不可以穿透</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">        window</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">electronAPI</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">windowSetIgnoreMouseEvents</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#986801;--shiki-dark:#569CD6;">false</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">    }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">    el</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">onmouseleave</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> () </span><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">=&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> {</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // 窗口设置为鼠标可以穿透</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">        window</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">electronAPI</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">windowSetIgnoreMouseEvents</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#986801;--shiki-dark:#569CD6;">true</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">    }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h2 id="腾讯快直播" tabindex="-1">腾讯快直播 <a class="header-anchor" href="#腾讯快直播" aria-label="Permalink to &quot;腾讯快直播&quot;">​</a></h2><h3 id="文档" tabindex="-1">文档 <a class="header-anchor" href="#文档" aria-label="Permalink to &quot;文档&quot;">​</a></h3><blockquote><p><a href="https://cloud.tencent.com/" target="_blank" rel="noreferrer">https://cloud.tencent.com/</a></p></blockquote><p><span class="img-wrapper"><img src="https://cdn.jsdelivr.net/gh/dcdy/image/img/202302041608166.png" alt="image-20230204160815970" width="auto" height="auto" class="img-loading" onload="this.classList.remove(&#39;img-loading&#39;)" onerror="this.classList.remove(&#39;img-loading&#39;); this.classList.add(&#39;img-error&#39;)"></span></p><blockquote><p>进入控制台后搜索云直播，后点击快直播选择域名，域名可去域名管理里配置</p></blockquote><p><span class="img-wrapper"><img src="https://cdn.jsdelivr.net/gh/dcdy/image/img/202302041619390.png" alt="image-20230204161955214" width="auto" height="auto" class="img-loading" onload="this.classList.remove(&#39;img-loading&#39;)" onerror="this.classList.remove(&#39;img-loading&#39;); this.classList.add(&#39;img-error&#39;)"></span></p><blockquote><p>流管理内查看正在播放的流</p></blockquote><p><span class="img-wrapper"><img src="https://cdn.jsdelivr.net/gh/dcdy/image/img/202302041623116.png" alt="image-20230204162340979" width="auto" height="auto" class="img-loading" onload="this.classList.remove(&#39;img-loading&#39;)" onerror="this.classList.remove(&#39;img-loading&#39;); this.classList.add(&#39;img-error&#39;)"></span></p><blockquote><p>查看云直播 api 文档</p><p><a href="https://webrtc-demo.myqcloud.com/push-sdk/v2/docs/TXLivePusher.html" target="_blank" rel="noreferrer">https://webrtc-demo.myqcloud.com/push-sdk/v2/docs/TXLivePusher.html</a></p></blockquote><blockquote><p>查看云直播例子</p><p>官方：<a href="https://cloud.tencent.com/document/product/267/56505" target="_blank" rel="noreferrer">https://cloud.tencent.com/document/product/267/56505</a></p><p>他人：<a href="https://www.h5w3.com/240159.html" target="_blank" rel="noreferrer">https://www.h5w3.com/240159.html</a></p></blockquote><blockquote><p>推送流 demo：<a href="https://console.cloud.tencent.com/live/tools/webpush" target="_blank" rel="noreferrer">https://console.cloud.tencent.com/live/tools/webpush</a></p><p>播放流 demo：<a href="https://tcplayer.vcube.tencent.com/" target="_blank" rel="noreferrer">https://tcplayer.vcube.tencent.com/</a></p></blockquote><blockquote><p>获取推流和播放流时的 MD5 签名的 key 值</p></blockquote><p><span class="img-wrapper"><img src="https://cdn.jsdelivr.net/gh/dcdy/image/img/202302071131024.png" alt="image-20230207113154864" width="auto" height="auto" class="img-loading" onload="this.classList.remove(&#39;img-loading&#39;)" onerror="this.classList.remove(&#39;img-loading&#39;); this.classList.add(&#39;img-error&#39;)"></span></p><img src="https://cdn.jsdelivr.net/gh/dcdy/image/img/202302071019691.png" alt="image-20230207101923537" style="zoom:67%;"><h3 id="具体代码操作" tabindex="-1">具体代码操作 <a class="header-anchor" href="#具体代码操作" aria-label="Permalink to &quot;具体代码操作&quot;">​</a></h3><blockquote><p>在页面内写一个 div 获取直播流，必须定义 id</p><p>.vue</p></blockquote><div class="language-vue vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">vue</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">&lt;!-- 腾讯快直播推流 --&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#808080;">&lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#569CD6;">div</span><span style="--shiki-light:#986801;--shiki-dark:#9CDCFE;"> v-show</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">&quot;</span><span style="--shiki-light:#986801;--shiki-dark:#569CD6;">false</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">&quot;</span><span style="--shiki-light:#986801;--shiki-dark:#9CDCFE;"> id</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&quot;id_local_video&quot;</span><span style="--shiki-light:#986801;--shiki-dark:#9CDCFE;"> style</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">width</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">320px</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">;</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">height</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">180px</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#808080;">&gt;&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#569CD6;">div</span><span style="--shiki-light:#383A42;--shiki-dark:#808080;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><blockquote><p>在 index.html 中引入腾讯快直播脚本文件</p><p>脚本地址：<a href="https://cloud.tencent.com/document/product/267/56505" target="_blank" rel="noreferrer">https://cloud.tencent.com/document/product/267/56505</a></p></blockquote><p><span class="img-wrapper"><img src="https://cdn.jsdelivr.net/gh/dcdy/image/img/202302071135871.png" alt="image-20230207113559728" width="auto" height="auto" class="img-loading" onload="this.classList.remove(&#39;img-loading&#39;)" onerror="this.classList.remove(&#39;img-loading&#39;); this.classList.add(&#39;img-error&#39;)"></span></p><div class="language-html vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">html</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">&lt;!-- 腾讯快直播脚本 --&gt;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">&lt;!-- &lt;script src=&quot;https://imgcache.qq.com/open/qcloud/live/webrtc/js/TXLivePusher-1.0.2.min.js&quot; charset=&quot;utf-8&quot;&gt;&lt;/script&gt; --&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#808080;">&lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#569CD6;">script</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#9CDCFE;">    src</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&quot;https://video.sdk.qcloudecdn.com/web/TXLivePusher-2.0.3.min.js&quot;</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#9CDCFE;">    charset</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&quot;utf-8&quot;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#808080;">&gt;&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#569CD6;">script</span><span style="--shiki-light:#383A42;--shiki-dark:#808080;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><blockquote><p>腾讯直播初始化</p></blockquote><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">// 腾讯直播初始化</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">initTxLiveStream</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(){</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">    // 腾讯快直播</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">    // 创建视频对象 livePusher变量我写在了data中 不再复制了 ，也可以直接在methods中直接声明变量</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#569CD6;">    this</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">livePusher</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">new</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;"> TXLivePusher</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">()</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#569CD6;">    this</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">livePusher</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">setRenderView</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&#39;id_local_video&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">    // 设置音视频流</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#569CD6;">    this</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">livePusher</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">setVideoQuality</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&#39;640p&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">    // 设置音频质量</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#569CD6;">    this</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">livePusher</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">setAudioQuality</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&#39;standard&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">    // 自定义设置帧率</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#569CD6;">    this</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">livePusher</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">setProperty</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&#39;setVideoFPS&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">25</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><blockquote><p>腾讯直播发布</p></blockquote><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">// 腾讯直播发布</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">publishTxLiveStream</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(){</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">    // 获取16进制时间</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">    let</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;"> timestamp</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;"> parseInt</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">new</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;"> Date</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">().</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">getTime</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">() </span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">/</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">1000</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">) </span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;"> 24</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">*</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">60</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">*</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">60</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">    let</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;"> timestamp_hex</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;"> timestamp</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">toString</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">16</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">    // 腾讯快直播</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">    setTimeout</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(() </span><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">=&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> {</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // 直播域名管理里点管理可以看到key</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">        let</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;"> key</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> &quot;b9098ad396f0c75aabd68d4023bbe496&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">        let</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;"> Md5</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;"> function</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">d</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">){</span><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">let</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;"> result</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;"> M</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">V</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">Y</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">X</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">d</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">),</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">8</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">*</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">d</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">length</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">)));</span><span style="--shiki-light:#A626A4;--shiki-dark:#C586C0;">return</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;"> result</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">toLowerCase</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">()};</span><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">function</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;"> M</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">d</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">){</span><span style="--shiki-light:#A626A4;--shiki-dark:#C586C0;">for</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">var</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;"> _</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">m</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&quot;0123456789ABCDEF&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">f</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&quot;&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">r</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">;</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">r</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">&lt;</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">d</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">length</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">;</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">r</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">++</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">)</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">_</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">d</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">charCodeAt</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">r</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">),</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">f</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">+=</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">m</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">charAt</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">_</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">&gt;&gt;&gt;</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">4</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">&amp;</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">15</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">)</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">m</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">charAt</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">15</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">&amp;</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">_</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">);</span><span style="--shiki-light:#A626A4;--shiki-dark:#C586C0;">return</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;"> f</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">}</span><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">function</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;"> X</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">d</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">){</span><span style="--shiki-light:#A626A4;--shiki-dark:#C586C0;">for</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">var</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;"> _</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">Array</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">d</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">length</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">&gt;&gt;</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">),</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">m</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">;</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">m</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">&lt;</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">_</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">length</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">;</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">m</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">++</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">)</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">_</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">[</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">m</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">]</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">;</span><span style="--shiki-light:#A626A4;--shiki-dark:#C586C0;">for</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">m</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">;</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">m</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">&lt;</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">8</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">*</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">d</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">length</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">;</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">m</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">+=</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">8</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">)</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">_</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">[</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">m</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">&gt;&gt;</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">5</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">]</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">|=</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">255</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">&amp;</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">d</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">charCodeAt</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">m</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">/</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">8</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">))</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">&lt;&lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">m</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">%</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">32</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">;</span><span style="--shiki-light:#A626A4;--shiki-dark:#C586C0;">return</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;"> _</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">}</span><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">function</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;"> V</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">d</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">){</span><span style="--shiki-light:#A626A4;--shiki-dark:#C586C0;">for</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">var</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;"> _</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&quot;&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">m</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">;</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">m</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">&lt;</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">32</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">*</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">d</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">length</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">;</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">m</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">+=</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">8</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">)</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">_</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">+=</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">String</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">fromCharCode</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">d</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">[</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">m</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">&gt;&gt;</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">5</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">]</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">&gt;&gt;&gt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">m</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">%</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">32</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">&amp;</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">255</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">);</span><span style="--shiki-light:#A626A4;--shiki-dark:#C586C0;">return</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;"> _</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">}</span><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">function</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;"> Y</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">d</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">_</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">){</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">d</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">[</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">_</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">&gt;&gt;</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">5</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">]</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">|=</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">128</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">&lt;&lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">_</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">%</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">32</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">d</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">[</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">14</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">_</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">64</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">&gt;&gt;&gt;</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">9</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">&lt;&lt;</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">4</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">)]</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">_</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">;</span><span style="--shiki-light:#A626A4;--shiki-dark:#C586C0;">for</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">var</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;"> m</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">1732584193</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">f</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">=-</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">271733879</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">r</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">=-</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">1732584194</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">i</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">271733878</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">n</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">;</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">n</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">&lt;</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">d</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">length</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">;</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">n</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">+=</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">16</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">){</span><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">var</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;"> h</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">m</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">t</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">f</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">g</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">r</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">e</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">i</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">;</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">f</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">md5_ii</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">f</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">md5_ii</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">f</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">md5_ii</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">f</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">md5_ii</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">f</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">md5_hh</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">f</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">md5_hh</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">f</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">md5_hh</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">f</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">md5_hh</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">f</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">md5_gg</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">f</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">md5_gg</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">f</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">md5_gg</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">f</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">md5_gg</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">f</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">md5_ff</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">f</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">md5_ff</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">f</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">md5_ff</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">f</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">md5_ff</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">f</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">r</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">md5_ff</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">r</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">i</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">md5_ff</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">i</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">m</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">md5_ff</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">m</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">f</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">r</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">i</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">d</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">[</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">n</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">],</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">7</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">-</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">680876936</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">),</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">f</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">r</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">d</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">[</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">n</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">],</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">12</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">-</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">389564586</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">),</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">m</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">f</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">d</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">[</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">n</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">],</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">17</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">606105819</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">),</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">i</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">m</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">d</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">[</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">n</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">],</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">22</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">-</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">1044525330</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">),</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">r</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">md5_ff</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">r</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">i</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">md5_ff</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">i</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">m</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">md5_ff</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">m</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">f</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">r</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">i</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">d</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">[</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">n</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">4</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">],</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">7</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">-</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">176418897</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">),</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">f</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">r</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">d</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">[</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">n</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">5</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">],</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">12</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">1200080426</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">),</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">m</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">f</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">d</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">[</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">n</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">6</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">],</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">17</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">-</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">1473231341</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">),</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">i</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">m</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">d</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">[</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">n</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">7</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">],</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">22</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">-</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">45705983</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">),</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">r</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">md5_ff</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">r</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">i</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">md5_ff</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">i</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">m</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">md5_ff</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">m</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">f</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">r</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">i</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">d</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">[</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">n</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">8</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">],</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">7</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">1770035416</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">),</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">f</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">r</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">d</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">[</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">n</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">9</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">],</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">12</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">-</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">1958414417</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">),</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">m</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">f</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">d</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">[</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">n</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">10</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">],</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">17</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">-</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">42063</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">),</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">i</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">m</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">d</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">[</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">n</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">11</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">],</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">22</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">-</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">1990404162</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">),</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">r</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">md5_ff</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">r</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">i</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">md5_ff</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">i</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">m</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">md5_ff</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">m</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">f</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">r</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">i</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">d</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">[</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">n</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">12</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">],</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">7</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">1804603682</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">),</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">f</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">r</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">d</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">[</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">n</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">13</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">],</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">12</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">-</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">40341101</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">),</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">m</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">f</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">d</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">[</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">n</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">14</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">],</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">17</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">-</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">1502002290</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">),</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">i</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">m</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">d</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">[</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">n</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">15</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">],</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">22</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">1236535329</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">),</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">r</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">md5_gg</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">r</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">i</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">md5_gg</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">i</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">m</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">md5_gg</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">m</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">f</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">r</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">i</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">d</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">[</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">n</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">],</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">5</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">-</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">165796510</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">),</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">f</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">r</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">d</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">[</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">n</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">6</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">],</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">9</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">-</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">1069501632</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">),</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">m</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">f</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">d</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">[</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">n</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">11</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">],</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">14</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">643717713</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">),</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">i</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">m</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">d</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">[</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">n</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">],</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">20</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">-</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">373897302</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">),</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">r</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">md5_gg</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">r</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">i</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">md5_gg</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">i</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">m</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">md5_gg</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">m</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">f</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">r</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">i</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">d</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">[</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">n</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">5</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">],</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">5</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">-</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">701558691</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">),</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">f</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">r</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">d</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">[</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">n</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">10</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">],</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">9</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">38016083</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">),</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">m</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">f</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">d</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">[</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">n</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">15</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">],</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">14</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">-</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">660478335</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">),</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">i</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">m</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">d</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">[</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">n</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">4</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">],</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">20</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">-</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">405537848</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">),</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">r</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">md5_gg</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">r</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">i</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">md5_gg</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">i</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">m</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">md5_gg</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">m</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">f</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">r</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">i</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">d</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">[</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">n</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">9</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">],</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">5</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">568446438</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">),</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">f</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">r</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">d</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">[</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">n</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">14</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">],</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">9</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">-</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">1019803690</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">),</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">m</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">f</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">d</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">[</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">n</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">],</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">14</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">-</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">187363961</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">),</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">i</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">m</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">d</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">[</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">n</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">8</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">],</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">20</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">1163531501</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">),</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">r</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">md5_gg</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">r</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">i</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">md5_gg</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">i</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">m</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">md5_gg</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">m</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">f</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">r</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">i</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">d</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">[</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">n</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">13</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">],</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">5</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">-</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">1444681467</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">),</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">f</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">r</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">d</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">[</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">n</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">],</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">9</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">-</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">51403784</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">),</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">m</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">f</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">d</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">[</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">n</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">7</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">],</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">14</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">1735328473</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">),</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">i</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">m</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">d</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">[</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">n</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">12</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">],</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">20</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">-</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">1926607734</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">),</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">r</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">md5_hh</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">r</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">i</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">md5_hh</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">i</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">m</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">md5_hh</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">m</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">f</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">r</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">i</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">d</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">[</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">n</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">5</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">],</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">4</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">-</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">378558</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">),</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">f</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">r</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">d</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">[</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">n</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">8</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">],</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">11</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">-</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">2022574463</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">),</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">m</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">f</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">d</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">[</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">n</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">11</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">],</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">16</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">1839030562</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">),</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">i</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">m</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">d</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">[</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">n</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">14</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">],</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">23</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">-</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">35309556</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">),</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">r</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">md5_hh</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">r</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">i</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">md5_hh</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">i</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">m</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">md5_hh</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">m</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">f</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">r</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">i</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">d</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">[</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">n</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">],</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">4</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">-</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">1530992060</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">),</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">f</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">r</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">d</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">[</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">n</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">4</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">],</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">11</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">1272893353</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">),</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">m</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">f</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">d</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">[</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">n</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">7</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">],</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">16</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">-</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">155497632</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">),</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">i</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">m</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">d</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">[</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">n</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">10</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">],</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">23</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">-</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">1094730640</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">),</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">r</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">md5_hh</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">r</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">i</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">md5_hh</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">i</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">m</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">md5_hh</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">m</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">f</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">r</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">i</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">d</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">[</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">n</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">13</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">],</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">4</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">681279174</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">),</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">f</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">r</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">d</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">[</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">n</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">],</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">11</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">-</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">358537222</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">),</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">m</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">f</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">d</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">[</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">n</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">],</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">16</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">-</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">722521979</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">),</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">i</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">m</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">d</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">[</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">n</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">6</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">],</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">23</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">76029189</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">),</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">r</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">md5_hh</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">r</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">i</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">md5_hh</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">i</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">m</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">md5_hh</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">m</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">f</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">r</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">i</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">d</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">[</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">n</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">9</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">],</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">4</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">-</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">640364487</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">),</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">f</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">r</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">d</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">[</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">n</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">12</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">],</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">11</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">-</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">421815835</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">),</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">m</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">f</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">d</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">[</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">n</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">15</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">],</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">16</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">530742520</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">),</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">i</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">m</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">d</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">[</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">n</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">],</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">23</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">-</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">995338651</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">),</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">r</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">md5_ii</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">r</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">i</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">md5_ii</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">i</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">m</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">md5_ii</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">m</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">f</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">r</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">i</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">d</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">[</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">n</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">],</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">6</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">-</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">198630844</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">),</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">f</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">r</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">d</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">[</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">n</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">7</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">],</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">10</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">1126891415</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">),</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">m</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">f</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">d</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">[</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">n</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">14</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">],</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">15</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">-</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">1416354905</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">),</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">i</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">m</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">d</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">[</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">n</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">5</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">],</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">21</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">-</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">57434055</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">),</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">r</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">md5_ii</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">r</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">i</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">md5_ii</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">i</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">m</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">md5_ii</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">m</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">f</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">r</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">i</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">d</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">[</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">n</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">12</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">],</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">6</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">1700485571</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">),</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">f</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">r</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">d</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">[</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">n</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">],</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">10</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">-</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">1894986606</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">),</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">m</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">f</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">d</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">[</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">n</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">10</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">],</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">15</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">-</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">1051523</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">),</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">i</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">m</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">d</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">[</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">n</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">],</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">21</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">-</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">2054922799</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">),</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">r</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">md5_ii</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">r</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">i</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">md5_ii</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">i</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">m</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">md5_ii</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">m</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">f</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">r</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">i</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">d</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">[</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">n</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">8</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">],</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">6</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">1873313359</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">),</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">f</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">r</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">d</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">[</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">n</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">15</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">],</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">10</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">-</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">30611744</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">),</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">m</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">f</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">d</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">[</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">n</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">6</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">],</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">15</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">-</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">1560198380</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">),</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">i</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">m</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">d</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">[</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">n</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">13</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">],</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">21</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">1309151649</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">),</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">r</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">md5_ii</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">r</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">i</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">md5_ii</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">i</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">m</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">md5_ii</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">m</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">f</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">r</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">i</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">d</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">[</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">n</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">4</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">],</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">6</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">-</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">145523070</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">),</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">f</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">r</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">d</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">[</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">n</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">11</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">],</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">10</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">-</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">1120210379</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">),</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">m</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">f</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">d</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">[</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">n</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">],</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">15</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">718787259</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">),</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">i</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">m</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">d</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">[</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">n</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">9</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">],</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">21</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">-</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">343485551</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">),</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">m</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">safe_add</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">m</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">h</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">),</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">f</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">safe_add</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">f</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">t</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">),</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">r</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">safe_add</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">r</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">g</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">),</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">i</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">safe_add</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">i</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">e</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">)}</span><span style="--shiki-light:#A626A4;--shiki-dark:#C586C0;">return</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;"> Array</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">m</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">f</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">r</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">i</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">)}</span><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">function</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;"> md5_cmn</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">d</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">_</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">m</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">f</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">r</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">i</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">){</span><span style="--shiki-light:#A626A4;--shiki-dark:#C586C0;">return</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;"> safe_add</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">bit_rol</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">safe_add</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">safe_add</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">_</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">d</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">),</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">safe_add</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">f</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">i</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">)),</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">r</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">),</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">m</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">)}</span><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">function</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;"> md5_ff</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">d</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">_</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">m</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">f</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">r</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">i</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">n</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">){</span><span style="--shiki-light:#A626A4;--shiki-dark:#C586C0;">return</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;"> md5_cmn</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">_</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">&amp;</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">m</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">|~</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">_</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">&amp;</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">f</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">d</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">_</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">r</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">i</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">n</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">)}</span><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">function</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;"> md5_gg</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">d</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">_</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">m</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">f</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">r</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">i</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">n</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">){</span><span style="--shiki-light:#A626A4;--shiki-dark:#C586C0;">return</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;"> md5_cmn</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">_</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">&amp;</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">f</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">m</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">&amp;~</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">f</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">d</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">_</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">r</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">i</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">n</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">)}</span><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">function</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;"> md5_hh</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">d</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">_</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">m</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">f</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">r</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">i</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">n</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">){</span><span style="--shiki-light:#A626A4;--shiki-dark:#C586C0;">return</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;"> md5_cmn</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">_</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">^</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">m</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">^</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">f</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">d</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">_</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">r</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">i</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">n</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">)}</span><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">function</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;"> md5_ii</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">d</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">_</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">m</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">f</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">r</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">i</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">n</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">){</span><span style="--shiki-light:#A626A4;--shiki-dark:#C586C0;">return</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;"> md5_cmn</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">m</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">^</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">_</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">|~</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">f</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">),</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">d</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">_</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">r</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">i</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">n</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">)}</span><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">function</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;"> safe_add</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">d</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">_</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">){</span><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">var</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;"> m</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">65535</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">&amp;</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">d</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">)</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">65535</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">&amp;</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">_</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">);</span><span style="--shiki-light:#A626A4;--shiki-dark:#C586C0;">return</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">d</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">&gt;&gt;</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">16</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">)</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">_</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">&gt;&gt;</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">16</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">)</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">m</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">&gt;&gt;</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">16</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">)</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">&lt;&lt;</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">16</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">65535</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">&amp;</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">m</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">}</span><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">function</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;"> bit_rol</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">d</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">_</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">){</span><span style="--shiki-light:#A626A4;--shiki-dark:#C586C0;">return</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;"> d</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">&lt;&lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">_</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">d</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">&gt;&gt;&gt;</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">32</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">-</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">_</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">};</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // 获取加上MD5签名处理的值</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">        let</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;"> md5</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;"> Md5</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">key</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&quot;liveVideo_&quot;</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#E45649;--shiki-dark:#569CD6;">this</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">section_id</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&quot;_&quot;</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#E45649;--shiki-dark:#569CD6;">this</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">uid</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">timestamp_hex</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // 获取直播发布地址</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">        let</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;"> url</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> `webrtc://push.tencent.live.jingqin.top/live/liveVideo_</span><span style="--shiki-light:#CA1243;--shiki-dark:#569CD6;">${</span><span style="--shiki-light:#E45649;--shiki-dark:#569CD6;">this</span><span style="--shiki-light:#50A14F;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">section_id</span><span style="--shiki-light:#CA1243;--shiki-dark:#569CD6;">}</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">_</span><span style="--shiki-light:#CA1243;--shiki-dark:#569CD6;">${</span><span style="--shiki-light:#E45649;--shiki-dark:#569CD6;">this</span><span style="--shiki-light:#50A14F;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">uid</span><span style="--shiki-light:#CA1243;--shiki-dark:#569CD6;">}</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">?txSecret=</span><span style="--shiki-light:#CA1243;--shiki-dark:#569CD6;">${</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">md5</span><span style="--shiki-light:#CA1243;--shiki-dark:#569CD6;">}</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&amp;txTime=</span><span style="--shiki-light:#CA1243;--shiki-dark:#569CD6;">${</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">timestamp_hex</span><span style="--shiki-light:#CA1243;--shiki-dark:#569CD6;">}</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">`</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">        console</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">log</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&quot;获取腾讯快直播流发布地址&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">url</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">	// 发布直播流</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#569CD6;">        this</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">livePusher</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">startPush</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">url</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">        .</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">then</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">((</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">res</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">=&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">            console</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">log</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&#39;开启直播成功push stream is successful&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">res</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#569CD6;">            this</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">$message</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">success</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&quot;开启直播成功&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">            // 获取腾讯快直播流播放地址</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">            let</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;"> key_2</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> &quot;NzDiFw4MhKMeEMSKDH3c&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">            let</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;"> md5_2</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;"> Md5</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">key_2</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&quot;liveVideo_&quot;</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#E45649;--shiki-dark:#569CD6;">this</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">section_id</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&quot;_&quot;</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#E45649;--shiki-dark:#569CD6;">this</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">uid</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">timestamp_hex</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">            let</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;"> url_2</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> `webrtc://play.tencent.live.jingqin.top/live/liveVideo_</span><span style="--shiki-light:#CA1243;--shiki-dark:#569CD6;">${</span><span style="--shiki-light:#E45649;--shiki-dark:#569CD6;">this</span><span style="--shiki-light:#50A14F;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">section_id</span><span style="--shiki-light:#CA1243;--shiki-dark:#569CD6;">}</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">_</span><span style="--shiki-light:#CA1243;--shiki-dark:#569CD6;">${</span><span style="--shiki-light:#E45649;--shiki-dark:#569CD6;">this</span><span style="--shiki-light:#50A14F;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">uid</span><span style="--shiki-light:#CA1243;--shiki-dark:#569CD6;">}</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">?txSecret=</span><span style="--shiki-light:#CA1243;--shiki-dark:#569CD6;">${</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">md5_2</span><span style="--shiki-light:#CA1243;--shiki-dark:#569CD6;">}</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&amp;txTime=</span><span style="--shiki-light:#CA1243;--shiki-dark:#569CD6;">${</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">timestamp_hex</span><span style="--shiki-light:#CA1243;--shiki-dark:#569CD6;">}</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">`</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">            console</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">log</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&quot;获取腾讯快直播流播放地址&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">url_2</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">        })</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">        .</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">catch</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">((</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">error</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">=&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">            console</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">log</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&quot;开启直播失败&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">error</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">name</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> +</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> &#39;: &#39;</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> +</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;"> error</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">message</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#569CD6;">            this</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">$message</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">success</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&quot;开启直播失败&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">        });</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">    }, </span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">3000</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">},</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br></div></div><blockquote><p>获取腾讯直播流(liveVideoId 不存在就时获取桌面流)</p></blockquote><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">// 获取腾讯直播流(liveVideoId不存在就时获取桌面流)</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">getTxLiveStream</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">liveVideoId</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">){</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C586C0;">    return</span><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;"> new</span><span style="--shiki-light:#C18401;--shiki-dark:#4EC9B0;"> Promise</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">((</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">resolve</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">reject</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">=&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">        console</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">log</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&quot;获取腾讯直播流&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">liveVideoId</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // 腾讯快直播</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">        let</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;"> videoMediaOption</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">            audio</span><span style="--shiki-light:#0184BC;--shiki-dark:#9CDCFE;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">                mandatory</span><span style="--shiki-light:#0184BC;--shiki-dark:#9CDCFE;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">                    chromeMediaSource</span><span style="--shiki-light:#0184BC;--shiki-dark:#9CDCFE;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> &#39;desktop&#39;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">                }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">            },</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">            video</span><span style="--shiki-light:#0184BC;--shiki-dark:#9CDCFE;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">                mandatory</span><span style="--shiki-light:#0184BC;--shiki-dark:#9CDCFE;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">                    chromeMediaSource</span><span style="--shiki-light:#0184BC;--shiki-dark:#9CDCFE;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> &#39;desktop&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">                }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">            }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">        }</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">	// 如果获取的是屏幕流，赋值对应的id</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C586C0;">        if</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> (</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">liveVideoId</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> &amp;&amp;</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;"> liveVideoId</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> !==</span><span style="--shiki-light:#986801;--shiki-dark:#569CD6;"> undefined</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">) {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">            videoMediaOption</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">video</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">mandatory</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">chromeMediaSourceId</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;"> liveVideoId</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">        }</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">	// 获取流</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">        navigator</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">mediaDevices</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">getUserMedia</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">videoMediaOption</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">).</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">then</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">mediaStream</span><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;"> =&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">            console</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">warn</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&#39;................,,,,,,,,,,stream2&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">mediaStream</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">            // 发布自定义流</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#569CD6;">            this</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">livePusher</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">startCustomCapture</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">mediaStream</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">).</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">then</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">((</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">streamId</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">=&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">                console</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">log</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&#39;custom stream id is &#39;</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> +</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;"> streamId</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">                // this.txLiveStreamId = streamId;</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">                resolve</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">()</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">            }).</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">catch</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">((</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">error</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">=&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">                console</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">log</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&#39;start custom error: &#39;</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;"> error</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">toString</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">());</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">                reject</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">()</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">            });</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">        })</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">    })</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">    // 获取video标签内的src值</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">    // console.log(&quot;流流流流流流流流流流&quot;,this.$refs[&quot;liveVideo_&quot; + this.section_id + &quot;_&quot; + this.uid].srcObject);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">},</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br></div></div><blockquote><p>开始发布腾讯直播 electron 的屏幕流</p></blockquote><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">// 开始发布腾讯直播electron的屏幕流</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">startTxLiveStream</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(){</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">    // 腾讯直播初始化</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#569CD6;">    this</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">initTxLiveStream</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">();</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">    // 获取腾讯直播流(liveVideoId不存在就时获取桌面流)</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#569CD6;">    this</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">switchVideoMode</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">();</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">    // 腾讯直播发布</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#569CD6;">    this</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">publishTxLiveStream</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">();</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">},</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">// 获取electron屏幕共享的所有窗口</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">async</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;"> switchVideoMode</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">() {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#569CD6;">    this</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">videoSourses</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#A626A4;--shiki-dark:#C586C0;"> await</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;"> window</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">electronAPI</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">navigatorShare</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">([</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">        &quot;window&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">    ]);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">    console</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">warn</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&quot;videoSourses&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#E45649;--shiki-dark:#569CD6;">this</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">videoSourses</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#569CD6;">    this</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">videoSourses</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">map</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">((</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">item</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">=&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">        console</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">error</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">item</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C586C0;">        if</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> (</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">item</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">name</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> ==</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> &quot;直播&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">) {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">            console</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">log</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&quot;直播&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">item</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">id</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">            // 获取腾讯直播流</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#569CD6;">    	this</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">getTxLiveStream</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">item</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">id</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">        }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">    });</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">},</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><blockquote><p>开始发布腾讯直播桌面流</p></blockquote><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">// 开始发布腾讯直播桌面流</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">startTxDeskStream</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(){</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">    // 腾讯直播初始化</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#569CD6;">    this</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">initTxLiveStream</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">();</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">    // 获取腾讯直播流(liveVideoId不存在就时获取桌面流)</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#569CD6;">    this</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">getTxLiveStream</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">().</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">then</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(() </span><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">=&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> {</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // 腾讯直播发布</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#569CD6;">        this</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">publishTxLiveStream</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">()</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">    })</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">},</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><blockquote><p>结束腾讯直播流</p></blockquote><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">// 结束腾讯直播流</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">endTxLiveStream</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(){</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">    // 腾讯快直播</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">    // 关闭自定义的音视频流，仅移除自定义流，不会停止自定义流。</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">    // this.llivePusher.stopCustomCapture(this.txLiveStreamId);</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">    // 如果还在推流就停止</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C586C0;">    if</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> (</span><span style="--shiki-light:#E45649;--shiki-dark:#569CD6;">this</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">livePusher</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">isPushing</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">()) {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#569CD6;">        this</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">livePusher</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">stopPush</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">()</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">    }</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">    // 离开⻚面或者退出时，清理 SDK 实例，避免可能会产生的内存泄露，调用前先执行 stop 相关的方法。</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#569CD6;">    this</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">livePusher</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">destroy</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">();</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">},</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">// 销毁对应自定义事件</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">beforeDestroy</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">() {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">   console</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">log</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&quot;销毁对应自定义事件&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">   // 结束腾讯直播流</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#569CD6;">   this</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">endTxLiveStream</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">();</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="只能打开一个应用" tabindex="-1">只能打开一个应用 <a class="header-anchor" href="#只能打开一个应用" aria-label="Permalink to &quot;只能打开一个应用&quot;">​</a></h2><iframe src="https://www.electronjs.org/zh/docs/latest/api/app#apprequestsingleinstancelockadditionaldata" height="500"></iframe><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">app</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">on</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&quot;ready&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">async</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> () </span><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">=&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C586C0;">    if</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> (</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">process</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">platform</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> !==</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> &quot;darwin&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">) {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">        const</span><span style="--shiki-light:#986801;--shiki-dark:#4FC1FF;"> gotTheLock</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;"> app</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">requestSingleInstanceLock</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">()</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C586C0;">        if</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">!</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">gotTheLock</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">){</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">            app</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">quit</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">();</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">        }</span><span style="--shiki-light:#A626A4;--shiki-dark:#C586C0;">else</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">{</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">            app</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">on</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&#39;second-instance&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, (</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">event</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">commandLine</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">workingDirectory</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">additionalData</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">=&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> {</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">                // 输出从第二个实例中接收到的数据</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">                console</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">log</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">event</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">commandLine</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">workingDirectory</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">additionalData</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">                // 有人试图运行第二个实例，我们应该关注我们的窗口</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C586C0;">                if</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> (</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">win</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">) {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C586C0;">                if</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> (</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">win</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">isMinimized</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">()) </span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">win</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">restore</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">()</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C586C0;">                if</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> (</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">!</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">win</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">isVisible</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">()) </span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">win</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">show</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">()</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">                win</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">focus</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">()</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">                }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">            })</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">        }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">    }</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h2 id="主窗口截屏" tabindex="-1">主窗口截屏 <a class="header-anchor" href="#主窗口截屏" aria-label="Permalink to &quot;主窗口截屏&quot;">​</a></h2><blockquote><p>ipcMain.js</p></blockquote><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">// 主窗口截屏</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">// 监听渲染进程的截屏请求</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">// https://www.electronjs.org/zh/docs/latest/api/browser-window#wincapturepagerect-opts</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">ipcMain</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">on</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&#39;screenshot&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, (</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">event</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">name</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">=&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> {</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">    // const { width, height } = screen.getPrimaryDisplay().workAreaSize;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">    // 截取整个窗口的图像</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">    win</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">capturePage</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">().</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">then</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">((</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">image</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">=&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> {</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // const screenshotPath = path.join(app.getPath(&#39;pictures&#39;), &#39;screenshot.png&#39;);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // 将图像保存到文件中</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // require(&#39;fs&#39;).writeFileSync(screenshotPath, image.toPNG());</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // console.log(&quot;截屏路径:&quot;, width, height,image,image.toDataURL());</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // 将截屏路径发送回渲染进程</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">        event</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">sender</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">send</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&#39;screenshot_path&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">image</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">toDataURL</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">());</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">    });</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">});</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><blockquote><p>preload.js</p></blockquote><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">// 截取主窗口屏幕</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#C8C8C8;">screenshot</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">: () </span><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">=&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;"> ipcRenderer</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">send</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&#39;screenshot&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">),</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">// 截取主窗口屏幕后的文件路径回调</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#C8C8C8;">screenshot_path</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">: (</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">callback</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">=&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;"> ipcRenderer</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">on</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&#39;screenshot_path&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">callback</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">),</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><blockquote><p>.vue</p></blockquote><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">screenshot</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(){</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">    // 向主进程发送截屏请求</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">    window</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">electronAPI</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">screenshot</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">()</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">    // 监听主进程返回的截屏图像路径</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">    window</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">electronAPI</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">screenshot_path</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">((</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">e</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">data</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">=&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#569CD6;">        this</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">screenshot_path</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;"> data</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">        console</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">log</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&quot;截屏路径&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">data</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">    })</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h2 id="麦克风" tabindex="-1">麦克风 <a class="header-anchor" href="#麦克风" aria-label="Permalink to &quot;麦克风&quot;">​</a></h2><h3 id="获取声轨" tabindex="-1">获取声轨 <a class="header-anchor" href="#获取声轨" aria-label="Permalink to &quot;获取声轨&quot;">​</a></h3><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">let</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;"> voiceStream</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#A626A4;--shiki-dark:#C586C0;"> await</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;"> navigator</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">mediaDevices</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">getUserMedia</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">({ </span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">video</span><span style="--shiki-light:#0184BC;--shiki-dark:#9CDCFE;">:</span><span style="--shiki-light:#986801;--shiki-dark:#569CD6;"> false</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">audio</span><span style="--shiki-light:#0184BC;--shiki-dark:#9CDCFE;">:</span><span style="--shiki-light:#986801;--shiki-dark:#569CD6;"> true</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> });</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">let</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;"> audioTracks</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;"> voiceStream</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">getAudioTracks</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">();</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">console</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">info</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">audioTracks</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="播放声音" tabindex="-1">播放声音 <a class="header-anchor" href="#播放声音" aria-label="Permalink to &quot;播放声音&quot;">​</a></h3><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">let</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;"> video</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;"> document</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">createElement</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&#39;video&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">video</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">autoplay</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#569CD6;"> true</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">video</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">style</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">cssText</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> &#39;position:absolute;top:-100000px;left:-100000px;&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">video</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">srcObject</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;"> voiceStream</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">document</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">body</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">appendChild</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">video</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="获取麦克风声音大小" tabindex="-1">获取麦克风声音大小 <a class="header-anchor" href="#获取麦克风声音大小" aria-label="Permalink to &quot;获取麦克风声音大小&quot;">​</a></h3><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">async</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;"> showAudio</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">() {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">  let</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;"> audioStream</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#A626A4;--shiki-dark:#C586C0;"> await</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;"> navigator</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">      .</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">mediaDevices</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">      .</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">getUserMedia</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">          {</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">video</span><span style="--shiki-light:#0184BC;--shiki-dark:#9CDCFE;">:</span><span style="--shiki-light:#986801;--shiki-dark:#569CD6;"> false</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">audio</span><span style="--shiki-light:#0184BC;--shiki-dark:#9CDCFE;">:</span><span style="--shiki-light:#986801;--shiki-dark:#569CD6;"> true</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">}</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">      );</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">  let</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;"> AudioContext</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;"> window</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">AudioContext</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> ||</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;"> window</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">webkitAudioContext</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">// 兼容性</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">      context</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;"> new</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;"> AudioContext</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(), </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">// 创建Audio上下文</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">      media</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;"> context</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">createMediaStreamSource</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">audioStream</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">), </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">// 从元素创建媒体节点</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">      processor</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;"> context</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">createScriptProcessor</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">          0</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">          1</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">          1</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">      );</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">  /*</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">    media → processor → destination</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">  */</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">  media</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">connect</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">processor</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">  processor</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">connect</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">context</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">destination</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">  //Canvas绘制</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">  let</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;"> canvas</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;"> document</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">createElement</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&#39;canvas&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">  canvas</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">style</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">cssText</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> &#39;position:absolute;top:0px;left:0px;width:200px;height:100px;background:#ffffff;&#39;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">  document</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">body</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">appendChild</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">canvas</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">  let</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;"> width</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;"> canvas</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">width</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">      height</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;"> canvas</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">height</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">      g</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;"> canvas</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">getContext</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&quot;2d&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">  g</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">translate</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">height</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> /</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;"> 2</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">  //控制节点的过程处理</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">  processor</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">onaudioprocess</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;"> function</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> (</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">e</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">) {</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">    //获取输入和输出的数据缓冲区</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">    let</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;"> input</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;"> e</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">inputBuffer</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">getChannelData</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">    //将缓冲区的数据绘制到Canvas上</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">    g</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">clearRect</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">-</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">height</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> /</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;"> 2</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">width</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">height</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">    g</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">beginPath</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">();</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C586C0;">    for</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">let</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;"> i</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;"> 0</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">; </span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">i</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> &lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;"> width</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">; </span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">i</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">++</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">) {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">      g</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">lineTo</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">i</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">height</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> /</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;"> 2</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> *</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;"> input</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">[</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">input</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">length</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> *</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;"> i</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> /</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;"> width</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> |</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;"> 0</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">]);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">    }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">    g</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">stroke</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">();</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">    // let output = e.outputBuffer.getChannelData(0);</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">    //将输入数缓冲复制到输出缓冲上</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">    // for (let i = 0; i &lt; input.length; i++) {</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">    //   output[i] = input[i];</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">    // }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">  };</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">},</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br></div></div><h3 id="获取麦克风声音大小修改单声道的大小" tabindex="-1">获取麦克风声音大小修改单声道的大小 <a class="header-anchor" href="#获取麦克风声音大小修改单声道的大小" aria-label="Permalink to &quot;获取麦克风声音大小修改单声道的大小&quot;">​</a></h3><div class="caution custom-block github-alert"><p class="custom-block-title">注意</p><p></p><p>注释的部分取消就会播放出声音</p></div><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">async</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;"> showAudio</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">() {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">  let</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;"> audioStream</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#A626A4;--shiki-dark:#C586C0;"> await</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;"> navigator</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">      .</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">mediaDevices</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">      .</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">getUserMedia</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">          {</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">video</span><span style="--shiki-light:#0184BC;--shiki-dark:#9CDCFE;">:</span><span style="--shiki-light:#986801;--shiki-dark:#569CD6;"> false</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">audio</span><span style="--shiki-light:#0184BC;--shiki-dark:#9CDCFE;">:</span><span style="--shiki-light:#986801;--shiki-dark:#569CD6;"> true</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">}</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">      );</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">  let</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;"> AudioContext</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;"> window</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">AudioContext</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> ||</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;"> window</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">webkitAudioContext</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">// 兼容性</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">      context</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;"> new</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;"> AudioContext</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(), </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">// 创建Audio上下文</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">      media</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;"> context</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">createMediaStreamSource</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">audioStream</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">), </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">// 从元素创建媒体节点</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">      lGain</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;"> context</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">createGain</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(),   </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">// 左声道</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">      rGain</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;"> context</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">createGain</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(),   </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">// 右声道</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">      splitter</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;"> context</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">createChannelSplitter</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">),  </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">// 分离器</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">      merger</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;"> context</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">createChannelMerger</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">),    </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">// 合成器</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">      processor</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;"> context</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">createScriptProcessor</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">          0</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">          1</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">          1</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">      );</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">  /*</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">                     → lGain</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">    media → splitter         → merger → processor → destination</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">                     → rGain</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">  */</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">  lGain</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">gain</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">value</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;"> 1</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">  rGain</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">gain</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">value</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;"> 1</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">  media</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">connect</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">splitter</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">  splitter</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">connect</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">lGain</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">  splitter</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">connect</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">rGain</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">  lGain</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">connect</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">merger</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">  rGain</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">connect</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">merger</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">  merger</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">connect</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">processor</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">  processor</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">connect</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">context</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">destination</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">  //Canvas绘制</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">  let</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;"> canvas</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;"> document</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">createElement</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&#39;canvas&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">  canvas</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">style</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">cssText</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> &#39;position:absolute;top:0px;left:0px;width:200px;height:100px;background:#ffffff;&#39;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">  document</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">body</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">appendChild</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">canvas</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">  let</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;"> width</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;"> canvas</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">width</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">      height</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;"> canvas</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">height</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">      g</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;"> canvas</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">getContext</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&quot;2d&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">  g</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">translate</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">height</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> /</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;"> 2</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">  //控制节点的过程处理</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">  processor</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">onaudioprocess</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;"> function</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> (</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">e</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">) {</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">    //获取输入和输出的数据缓冲区</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">    let</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;"> input</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;"> e</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">inputBuffer</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">getChannelData</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">    //将缓冲区的数据绘制到Canvas上</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">    g</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">clearRect</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">-</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">height</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> /</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;"> 2</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">width</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">height</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">    g</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">beginPath</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">();</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C586C0;">    for</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">let</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;"> i</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;"> 0</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">; </span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">i</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> &lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;"> width</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">; </span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">i</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">++</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">) {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">      g</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">lineTo</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">i</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">height</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> /</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;"> 2</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> *</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;"> input</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">[</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">input</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">length</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> *</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;"> i</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> /</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;"> width</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> |</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;"> 0</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">]);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">    }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">    g</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">stroke</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">();</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">    // let output = e.outputBuffer.getChannelData(0);</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">    //将输入数缓冲复制到输出缓冲上</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">    // for (let i = 0; i &lt; input.length; i++) {</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">    //   output[i] = input[i];</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">    // }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">  };</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">},</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br></div></div><p>如果缓冲的长度小于像素的宽度，用换缓冲的长度绘制</p><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">g</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">clearRect</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">-</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">height</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> /</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;"> 2</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">width</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">height</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">g</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">beginPath</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">();</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">console</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">info</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&#39;input.length&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">input</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">length</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C586C0;">for</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">let</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;"> i</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;"> 0</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">; </span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">i</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> &lt;</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;"> input</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">length</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">; </span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">i</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">++</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">) {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">    let</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;"> x</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> (</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">width</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> /</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;"> input</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">length</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">) </span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">*</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;"> i</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">    g</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">lineTo</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">x</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, (</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">height</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> /</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;"> 2</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">) </span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">*</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;"> input</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">[</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">i</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> |</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;"> 0</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">]);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">}</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">g</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">stroke</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">();</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>加载设备的音频流</p><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">context</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">createMediaStreamSource</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">audioStream</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>如果要加载本地音频文件</p><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">let</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;"> audio</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;"> new</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;"> Audio</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&#39;茜拉 - 想你的夜.mp3&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">let</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;"> media</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;"> context</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">createMediaElementSource</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">audio</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">); </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">// 从元素创建媒体节点</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>设置声道</p><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">let</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;"> vol</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;"> 100</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">// 音量</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">    lVol</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;"> 100</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">// 左声道</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">    rVol</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;"> 100</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">; </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">// 右声道</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">// 声道控制</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">function</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;"> setVolumeLR</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">() {</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">    lVol</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;"> 70</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">    rVol</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;"> 80</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">    setVolume</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">();</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>设置音量</p><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">// 设置音量</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">function</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;"> setVolume</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">() {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">    lGain</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">gain</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">value</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> ((</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">lVol</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> /</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;"> 100</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">) </span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">*</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;"> vol</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">) </span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">/</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;"> 100</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">    rGain</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">gain</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">value</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> ((</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">rVol</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> /</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;"> 100</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">) </span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">*</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;"> vol</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">) </span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">/</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;"> 100</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">}</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">音视频合并</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">let</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;"> stream</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#A626A4;--shiki-dark:#C586C0;"> await</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;"> navigator</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">mediaDevices</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">getUserMedia</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">({</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">    audio</span><span style="--shiki-light:#0184BC;--shiki-dark:#9CDCFE;">:</span><span style="--shiki-light:#986801;--shiki-dark:#569CD6;"> false</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">    video</span><span style="--shiki-light:#0184BC;--shiki-dark:#9CDCFE;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">        mandatory</span><span style="--shiki-light:#0184BC;--shiki-dark:#9CDCFE;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">            chromeMediaSource</span><span style="--shiki-light:#0184BC;--shiki-dark:#9CDCFE;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> &#39;desktop&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">            maxWidth</span><span style="--shiki-light:#0184BC;--shiki-dark:#9CDCFE;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;"> window</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">screen</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">width</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">            maxHeight</span><span style="--shiki-light:#0184BC;--shiki-dark:#9CDCFE;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;"> window</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">screen</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">height</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">        }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">    }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">});</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">let</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;"> audioStream</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#A626A4;--shiki-dark:#C586C0;"> await</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;"> navigator</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">mediaDevices</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">getUserMedia</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">({</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">    audio</span><span style="--shiki-light:#0184BC;--shiki-dark:#9CDCFE;">:</span><span style="--shiki-light:#986801;--shiki-dark:#569CD6;"> true</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">    video</span><span style="--shiki-light:#0184BC;--shiki-dark:#9CDCFE;">:</span><span style="--shiki-light:#986801;--shiki-dark:#569CD6;"> false</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">});</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">let</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;"> audioTracks</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;"> audioStream</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">getAudioTracks</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">()[</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">];</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">stream</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">addTrack</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">audioTracks</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><h2 id="blackhole" tabindex="-1">BlackHole <a class="header-anchor" href="#blackhole" aria-label="Permalink to &quot;BlackHole&quot;">​</a></h2><div class="important custom-block github-alert"><p class="custom-block-title">重点</p><p></p><p>解决 mac 电脑 上无法获取桌面声音问题</p></div><h3 id="_1-下载" tabindex="-1">1.下载 <a class="header-anchor" href="#_1-下载" aria-label="Permalink to &quot;1.下载&quot;">​</a></h3><p>下载地址：<a href="https://existential.audio/blackhole/download/" target="_blank" rel="noreferrer">https://existential.audio/blackhole/download/</a></p><blockquote><ol><li>选择第一个 BlackHole 2ch 进行下载</li><li>下载后点击文件进行安装，安装过程中一直选择同意安装即可</li></ol></blockquote><p><span class="img-wrapper"><img src="https://cdn.jsdelivr.net/gh/dcdy/image/img/202304281536202.png" alt="image-20230428153341830" width="auto" height="auto" class="img-loading" onload="this.classList.remove(&#39;img-loading&#39;)" onerror="this.classList.remove(&#39;img-loading&#39;); this.classList.add(&#39;img-error&#39;)"></span></p><h3 id="_2-音频-midi-设置" tabindex="-1">2.音频 MIDI 设置 <a class="header-anchor" href="#_2-音频-midi-设置" aria-label="Permalink to &quot;2.音频 MIDI 设置&quot;">​</a></h3><blockquote><p>1.使用 command + 空格，在聚焦搜索中输入<code>音频MIDI设置</code>，打开音频 MIDI 设置</p></blockquote><p><span class="img-wrapper"><img src="https://cdn.jsdelivr.net/gh/dcdy/image/img/202304281630423.png" alt="image-20230428163032219" width="auto" height="auto" class="img-loading" onload="this.classList.remove(&#39;img-loading&#39;)" onerror="this.classList.remove(&#39;img-loading&#39;); this.classList.add(&#39;img-error&#39;)"></span></p><blockquote><p>2.选择 BlackHole，将格式改为 48000</p></blockquote><p><span class="img-wrapper"><img src="https://cdn.jsdelivr.net/gh/dcdy/image/img/202304281631087.png" alt="image-20230428163102917" width="auto" height="auto" class="img-loading" onload="this.classList.remove(&#39;img-loading&#39;)" onerror="this.classList.remove(&#39;img-loading&#39;); this.classList.add(&#39;img-error&#39;)"></span></p><blockquote><p>3.点击+号，选择创建多输出设备</p></blockquote><p><span class="img-wrapper"><img src="https://cdn.jsdelivr.net/gh/dcdy/image/img/202304281632278.png" alt="image-20230428163224092" width="auto" height="auto" class="img-loading" onload="this.classList.remove(&#39;img-loading&#39;)" onerror="this.classList.remove(&#39;img-loading&#39;); this.classList.add(&#39;img-error&#39;)"></span></p><blockquote><p>4.（1）选中创建的多输出设备，使用的音频设备选择 BlackHole 和你的电脑内部的扬声器设备（例如：内建输出、耳机、扬声器等选一个能出声的就行）</p><p>​ （2）主设备选择你下面音频设备中打 √ 的选项中除了 BlackHole 的另一个选项即可完成配置</p></blockquote><p><span class="img-wrapper"><img src="https://cdn.jsdelivr.net/gh/dcdy/image/img/202304281637352.png" alt="image-20230428163725165" width="auto" height="auto" class="img-loading" onload="this.classList.remove(&#39;img-loading&#39;)" onerror="this.classList.remove(&#39;img-loading&#39;); this.classList.add(&#39;img-error&#39;)"></span></p></div></div></main><footer class="VPDocFooter" data-v-aa13f155 data-v-8b256f6a><!--[--><!--[--><!--[--><!--[--><div style="display:none;" class="vitepress-backTop-main" title="返回顶部" data-v-320cd180><svg t="1720595052079" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4279" width="200" height="200" data-v-320cd180><path d="M752.736 431.063C757.159 140.575 520.41 8.97 504.518 0.41V0l-0.45 0.205-0.41-0.205v0.41c-15.934 8.56-252.723 140.165-248.259 430.653-48.21 31.457-98.713 87.368-90.685 184.074 8.028 96.666 101.007 160.768 136.601 157.287 35.595-3.482 25.232-30.31 25.232-30.31l12.206-50.095s52.47 80.569 69.304 80.528c15.114-1.23 87-0.123 95.6 0h0.82c8.602-0.123 80.486-1.23 95.6 0 16.794 0 69.305-80.528 69.305-80.528l12.165 50.094s-10.322 26.83 25.272 30.31c35.595 3.482 128.574-60.62 136.602-157.286 8.028-96.665-42.475-152.617-90.685-184.074z m-248.669-4.26c-6.758-0.123-94.781-3.359-102.891-107.192 2.95-98.714 95.97-107.438 102.891-107.93 6.964 0.492 99.943 9.216 102.892 107.93-8.11 103.833-96.174 107.07-102.892 107.192z m-52.019 500.531c0 11.838-9.42 21.382-21.012 21.382a21.217 21.217 0 0 1-21.054-21.34V821.74c0-11.797 9.421-21.382 21.054-21.382 11.591 0 21.012 9.585 21.012 21.382v105.635z m77.333 57.222a21.504 21.504 0 0 1-21.34 21.626 21.504 21.504 0 0 1-21.34-21.626V827.474c0-11.96 9.543-21.668 21.299-21.668 11.796 0 21.38 9.708 21.38 21.668v157.082z m71.147-82.043c0 11.796-9.42 21.34-21.053 21.34a21.217 21.217 0 0 1-21.013-21.34v-75.367c0-11.755 9.421-21.299 21.013-21.299 11.632 0 21.053 9.544 21.053 21.3v75.366z" fill="#FFF" p-id="4280" data-v-320cd180></path></svg></div><!--]--><!--]--><!--]--><!--]--><div class="edit-info" data-v-8b256f6a><div class="edit-link" data-v-8b256f6a><a class="VPLink link vp-external-link-icon no-icon edit-link-button" href="https://github.com/dcdy/everything-goes-well/edit/main/docs/zh/electron/直播相关.md" target="_blank" rel="noreferrer" data-v-8b256f6a><!--[--><span class="vpi-square-pen edit-link-icon" data-v-8b256f6a></span> 在 GitHub 上编辑此页面<!--]--></a></div><div class="last-updated" data-v-8b256f6a><p class="VPLastUpdated" data-v-8b256f6a data-v-c459600f>最后更新于: <time datetime="2025-03-20T13:31:12.000Z" data-v-c459600f></time></p></div></div><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-8b256f6a><span class="visually-hidden" id="doc-footer-aria-label" data-v-8b256f6a>Pager</span><div class="pager" data-v-8b256f6a><a class="VPLink link pager-link prev" href="/everything-goes-well-public/zh/electron/%E9%85%8D%E7%BD%AE" data-v-8b256f6a><!--[--><span class="desc" data-v-8b256f6a>上一页</span><span class="title" data-v-8b256f6a>配置</span><!--]--></a></div><div class="pager" data-v-8b256f6a><!----></div></nav></footer><!--[--><!--[--><!--[--><!----><!--]--><!--]--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter has-sidebar" data-v-6c7cdc44 data-v-37185139><div class="container" data-v-37185139><!----><p class="copyright" data-v-37185139>版权所有 © 2020-2025 dcdyxmt@163.com</p></div></footer><!--[--><!--]--></div></div>
    
    
  </body>
</html>