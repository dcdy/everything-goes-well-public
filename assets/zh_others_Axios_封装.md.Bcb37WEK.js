import{_ as i,c as a,o as n,b2 as l}from"./chunks/framework.CF7B9edl.js";const g=JSON.parse('{"title":"å°è£…","description":"","frontmatter":{},"headers":[],"relativePath":"zh/others/Axios/å°è£….md","filePath":"zh/others/Axios/å°è£….md","lastUpdated":1742747905000}'),h={name:"zh/others/Axios/å°è£….md"};function k(p,s,t,e,r,D){return n(),a("div",null,s[0]||(s[0]=[l(`<h1 id="å°è£…" tabindex="-1">å°è£… <a class="header-anchor" href="#å°è£…" aria-label="Permalink to &quot;å°è£…&quot;">â€‹</a></h1><h2 id="å®‰è£…" tabindex="-1">å®‰è£… <a class="header-anchor" href="#å®‰è£…" aria-label="Permalink to &quot;å®‰è£…&quot;">â€‹</a></h2><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="å¤åˆ¶ä»£ç " class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">pnpm</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> add</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> axios</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> qs</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="è¯·æ±‚å“åº”ä½“" tabindex="-1">è¯·æ±‚å“åº”ä½“ <a class="header-anchor" href="#è¯·æ±‚å“åº”ä½“" aria-label="Permalink to &quot;è¯·æ±‚å“åº”ä½“&quot;">â€‹</a></h2><div class="note custom-block github-alert"><p class="custom-block-title">è¯·æ±‚å¯é€‰å‚æ•°</p><p></p><p>isReturnNativeData?: boolean; // è¿”å›åŸå§‹æ•°æ®</p><p>successMode?: string; // æˆåŠŸæç¤ºæ˜¾ç¤ºæ–¹å¼</p><p>errorMode?: string; // é”™è¯¯æç¤ºæ˜¾ç¤ºæ–¹å¼</p><p>repeatRequest?: boolean; // å…è®¸é‡å¤è¯·æ±‚</p><p>loading?: boolean | string; // æ˜¯å¦æ˜¾ç¤ºåŠ è½½</p><p>retry?: number; // æ€»å…±é‡è¯•æ¬¡æ•°</p><p>retryDelay?: number; // é‡è¯•é—´éš”æ—¶é—´</p><p>__retryCount?: number; // å½“å‰ç¬¬å‡ æ¬¡é‡è¯•</p></div><div class="vp-code-block-title"><div class="vp-code-block-title-bar"><span class="vp-code-block-title-text" data-title="request.ts">request.ts</span></div><div class="language-ts vp-adaptive-theme line-numbers-mode"><button title="å¤åˆ¶ä»£ç " class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C586C0;">import</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;"> axios</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C586C0;">    type</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;"> AxiosInstance</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">    AxiosError</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C586C0;">    type</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;"> AxiosResponse</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C586C0;">    type</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;"> AxiosRequestConfig</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">} </span><span style="--shiki-light:#A626A4;--shiki-dark:#C586C0;">from</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> &#39;axios&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C586C0;">import</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">    successHandler</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">    errorHandler</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">    errorMsgHandler</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">    showLoading</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">    hideLoading</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">} </span><span style="--shiki-light:#A626A4;--shiki-dark:#C586C0;">from</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> &#39;./msgHandler&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C586C0;">import</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;"> qs</span><span style="--shiki-light:#A626A4;--shiki-dark:#C586C0;"> from</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> &#39;qs&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">declare</span><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;"> module</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> &#39;axios&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C586C0;">    export</span><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;"> interface</span><span style="--shiki-light:#C18401;--shiki-dark:#4EC9B0;"> AxiosRequestConfig</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">        isReturnNativeData</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">?:</span><span style="--shiki-light:#0184BC;--shiki-dark:#4EC9B0;"> boolean</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">; </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">// è¿”å›åŸå§‹æ•°æ®</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">        successMode</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">?:</span><span style="--shiki-light:#0184BC;--shiki-dark:#4EC9B0;"> string</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">; </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">// æˆåŠŸæç¤ºæ˜¾ç¤ºæ–¹å¼</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">        errorMode</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">?:</span><span style="--shiki-light:#0184BC;--shiki-dark:#4EC9B0;"> string</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">; </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">// é”™è¯¯æç¤ºæ˜¾ç¤ºæ–¹å¼</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">        repeatRequest</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">?:</span><span style="--shiki-light:#0184BC;--shiki-dark:#4EC9B0;"> boolean</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">; </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">// å…è®¸é‡å¤è¯·æ±‚</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">        loading</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">?:</span><span style="--shiki-light:#0184BC;--shiki-dark:#4EC9B0;"> boolean</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> |</span><span style="--shiki-light:#0184BC;--shiki-dark:#4EC9B0;"> string</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">; </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">// æ˜¯å¦æ˜¾ç¤ºåŠ è½½</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">        retry</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">?:</span><span style="--shiki-light:#0184BC;--shiki-dark:#4EC9B0;"> number</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">; </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">// æ€»å…±é‡è¯•æ¬¡æ•°</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">        retryDelay</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">?:</span><span style="--shiki-light:#0184BC;--shiki-dark:#4EC9B0;"> number</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">; </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">// é‡è¯•é—´éš”æ—¶é—´</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">        __retryCount</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">?:</span><span style="--shiki-light:#0184BC;--shiki-dark:#4EC9B0;"> number</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">; </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">// å½“å‰ç¬¬å‡ æ¬¡é‡è¯•</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">    }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">let</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;"> pendingMap</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;"> new</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;"> Map</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">function</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;"> getRequestKey</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">config</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#C18401;--shiki-dark:#4EC9B0;"> AxiosRequestConfig</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">) {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C586C0;">    return</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> (</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">config</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">method</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> ||</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> &#39;&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">) </span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;"> config</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">url</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> +</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> &#39;?&#39;</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> +</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;"> qs</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">stringify</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">config</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">?.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">data</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">// åˆ¤æ–­é‡å¤è¯·æ±‚æ—¶å–æ¶ˆå‰ä¸€ä¸ªè¯·æ±‚</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">function</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;"> setPendingMap</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">config</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#C18401;--shiki-dark:#4EC9B0;"> AxiosRequestConfig</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">) {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">    const</span><span style="--shiki-light:#986801;--shiki-dark:#4FC1FF;"> controller</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;"> new</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;"> AbortController</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">();</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">    config</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">signal</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;"> controller</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">signal</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">    const</span><span style="--shiki-light:#986801;--shiki-dark:#4FC1FF;"> key</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;"> getRequestKey</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">config</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C586C0;">    if</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> (</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">pendingMap</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">has</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">key</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">)) {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">        pendingMap</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">get</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">key</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">).</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">abort</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">();</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">        pendingMap</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">delete</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">key</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">    } </span><span style="--shiki-light:#A626A4;--shiki-dark:#C586C0;">else</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">        pendingMap</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">set</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">key</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">controller</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">    }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">}</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">// åŸºç¡€é…ç½®</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">const</span><span style="--shiki-light:#986801;--shiki-dark:#4FC1FF;"> service</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#C18401;--shiki-dark:#4EC9B0;"> AxiosInstance</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;"> axios</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">create</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">({</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">    timeout</span><span style="--shiki-light:#0184BC;--shiki-dark:#9CDCFE;">:</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;"> 1000</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> *</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;"> 10</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">    baseURL</span><span style="--shiki-light:#0184BC;--shiki-dark:#9CDCFE;">:</span><span style="--shiki-light:#A626A4;--shiki-dark:#C586C0;"> import</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">meta</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">env</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#986801;--shiki-dark:#4FC1FF;">VITE_BASE_URL</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">    // baseURL: &#39;http://192.168.3.56:8769&#39;,</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">    // baseURL: &#39;/&#39;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">});</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">service</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">defaults</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">loading</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> &#39;body&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">// è®¾ç½®è¯·æ±‚æ¬¡æ•°ï¼Œè¯·æ±‚çš„é—´éš™</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">service</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">defaults</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">retry</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;"> 1</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">service</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">defaults</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">retryDelay</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;"> 301</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">//è¯·æ±‚æ‹¦æˆªå™¨</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">service</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">interceptors</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">request</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">use</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">    (</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">config</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">=&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> {</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        //ç”¨æˆ·èº«ä»½token</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C586C0;">        if</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> (</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">localStorage</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">getItem</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&#39;token&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">)) {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">            config</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">headers</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">token</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;"> localStorage</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">getItem</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&#39;token&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">        }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">        const</span><span style="--shiki-light:#986801;--shiki-dark:#4FC1FF;"> params</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;"> config</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">data</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">?.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">params</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> ||</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;"> config</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">params</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">        console</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">log</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&#39;è¯·æ±‚æ‹¦æˆªå™¨&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">config</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">params</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // å¦‚æœè®¾ç½®ä¸å¯ä»¥é‡å¤è¯·æ±‚</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C586C0;">        if</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> (</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">!</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">config</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">?.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">repeatRequest</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> &amp;&amp;</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> !</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">params</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">?.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">repeatRequest</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">) {</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">            setPendingMap</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">config</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">        }</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // è¯·æ±‚æ˜¾ç¤ºåŠ è½½loading</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C586C0;">        if</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> (</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">config</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">?.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">loading</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> &amp;&amp;</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;"> params</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">?.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">loading</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> !==</span><span style="--shiki-light:#986801;--shiki-dark:#569CD6;"> false</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">) {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">            console</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">log</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&#39;è¯·æ±‚æ˜¾ç¤ºåŠ è½½&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">config</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#0184BC;--shiki-dark:#569CD6;">typeof</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;"> config</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">?.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">data</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">            showLoading</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">getRequestParam</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">config</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">params</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&#39;loading&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">), </span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">config</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">?.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">__retryCount</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> ||</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;"> 0</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">        }</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C586C0;">        return</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;"> config</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">    },</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">    (</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">error</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#C18401;--shiki-dark:#4EC9B0;"> AxiosError</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">=&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">        console</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">log</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&#39;è¯·æ±‚æ—¶é”™è¯¯&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">error</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C586C0;">        return</span><span style="--shiki-light:#C18401;--shiki-dark:#4EC9B0;"> Promise</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">reject</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">();</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">    }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">//å“åº”æ‹¦æˆªå™¨</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">service</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">interceptors</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">response</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">use</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">((</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">response</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#C18401;--shiki-dark:#4EC9B0;"> AxiosResponse</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">=&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">    const</span><span style="--shiki-light:#986801;--shiki-dark:#4FC1FF;"> config</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;"> response</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">config</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">    console</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">log</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&#39;ğŸš€ ~ service.interceptors.response.use ~ config:&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">config</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">    const</span><span style="--shiki-light:#986801;--shiki-dark:#4FC1FF;"> key</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;"> getRequestKey</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">config</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">    // const params = JSON.parse(config.data)?.params;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">    const</span><span style="--shiki-light:#986801;--shiki-dark:#4FC1FF;"> params</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;"> config</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">data</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">?.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">params</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> ||</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;"> config</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">params</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">    pendingMap</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">delete</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">key</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">    console</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">log</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&#39;å“åº”è¯·æ±‚&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">response</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">params</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">    // å¦‚æœè¯·æ±‚è¿”å›çš„çŠ¶æ€ç ä¸º200ï¼Œè¯´æ˜æ¥å£è¯·æ±‚æˆåŠŸï¼Œå¯ä»¥æ­£å¸¸æ‹¿åˆ°æ•°æ®</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C586C0;">    if</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> (</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">response</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">status</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> ===</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;"> 200</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">) {</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // å“åº”æ—¶éšè—åŠ è½½</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C586C0;">        if</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> (</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">config</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">?.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">loading</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> &amp;&amp;</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;"> params</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">?.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">loading</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> !==</span><span style="--shiki-light:#986801;--shiki-dark:#569CD6;"> false</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">) {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">            console</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">log</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&#39;å“åº”æ—¶éšè—åŠ è½½&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">params</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">?.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">loading</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> ||</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;"> config</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">?.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">loading</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">            hideLoading</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">();</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">        }</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // å¦‚æœéœ€è¦è¿”å›åŸå§‹æ•°æ®ï¼Œç›´æ¥è¿”å›</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C586C0;">        if</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> (</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">getRequestParam</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">config</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">params</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&#39;isReturnNativeData&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">)) {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C586C0;">            return</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;"> response</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">data</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">        } </span><span style="--shiki-light:#A626A4;--shiki-dark:#C586C0;">else</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> {</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">            // å¦‚æœä¸éœ€è¦è¿”å›åŸå§‹æ•°æ®ï¼Œåˆ™è¿”å›resultä¸­çš„æ•°æ®</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">            const</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> { </span><span style="--shiki-light:#986801;--shiki-dark:#4FC1FF;">code</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> } </span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;"> response</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">data</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">            const</span><span style="--shiki-light:#986801;--shiki-dark:#4FC1FF;"> msg</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;"> response</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">data</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">msg</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> ||</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;"> response</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">data</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">error</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C586C0;">            if</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> (</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">code</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> ===</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;"> 200</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">) {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">                console</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">log</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&#39;è¯·æ±‚æˆåŠŸ&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">msg</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">config</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">params</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">successMode</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">                successHandler</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">msg</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">getRequestParam</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">config</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">params</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&#39;successMode&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">) </span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">||</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> &#39;null&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C586C0;">                return</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;"> response</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">data</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">            } </span><span style="--shiki-light:#A626A4;--shiki-dark:#C586C0;">else</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> {</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">                // errorHandler(msg || errorMsgHandler(code), config.errorMode);</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C586C0;">                return</span><span style="--shiki-light:#C18401;--shiki-dark:#4EC9B0;"> Promise</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">reject</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">response</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">            }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">        }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">    }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">});</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">// é”™è¯¯å¤„ç†</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">service</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">interceptors</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">response</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">use</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#986801;--shiki-dark:#569CD6;">undefined</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">async</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> (</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">e</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">=&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">    let</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;"> config</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;"> e</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">config</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">    console</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">log</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&#39;é”™è¯¯å¤„ç†0&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">e</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">    // const params =</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">    //     typeof config?.data == &#39;object&#39; ? config?.data.params : JSON.parse(config?.data)?.params;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">    const</span><span style="--shiki-light:#986801;--shiki-dark:#4FC1FF;"> params</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;"> config</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">data</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">?.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">params</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> ||</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;"> config</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">params</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">    console</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">log</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&#39;é”™è¯¯å¤„ç†1&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">e</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">params</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">    // å“åº”æ—¶éšè—åŠ è½½</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C586C0;">    if</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> (</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">config</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">?.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">loading</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> &amp;&amp;</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;"> params</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">?.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">loading</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> !==</span><span style="--shiki-light:#986801;--shiki-dark:#569CD6;"> false</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">) {</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">        hideLoading</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">();</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C586C0;">    if</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> (</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">params</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">?.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">retry</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> !==</span><span style="--shiki-light:#986801;--shiki-dark:#569CD6;"> undefined</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">) {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">        config</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">retry</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;"> params</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">?.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">retry</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">    }</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">    let</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;"> codeArr</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> [</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">401</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">402</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">];</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">    // å¦‚æœé…ç½®ä¸å­˜åœ¨æˆ–æœªè®¾ç½®é‡è¯•é€‰é¡¹ï¼Œåˆ™æ‹’ç»</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C586C0;">    if</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> (</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">!</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">config</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> ||</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> !</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">config</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">retry</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> ||</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;"> codeArr</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">includes</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">e</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">data</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">?.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">result</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">?.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">code</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">)) {</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">        errorMsgFun</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">e</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C586C0;">        return</span><span style="--shiki-light:#C18401;--shiki-dark:#4EC9B0;"> Promise</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">reject</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">e</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">    } </span><span style="--shiki-light:#A626A4;--shiki-dark:#C586C0;">else</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> {</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // è®¾ç½®ç”¨äºè·Ÿè¸ªé‡è¯•è®¡æ•°çš„å˜é‡</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">        config</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">__retryCount</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;"> config</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">__retryCount</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> ||</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;"> 0</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // æ£€æŸ¥æˆ‘ä»¬æ˜¯å¦å·²ç»è¾¾åˆ°äº†é‡è¯•çš„æ€»æ¬¡æ•°</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C586C0;">        if</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> (</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">config</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">__retryCount</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> &gt;=</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;"> config</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">retry</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">) {</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">            errorMsgFun</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">e</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C586C0;">            return</span><span style="--shiki-light:#C18401;--shiki-dark:#4EC9B0;"> Promise</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">reject</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">e</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">        }</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // å¢åŠ é‡è¯•æ¬¡æ•°</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">        config</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">__retryCount</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> +=</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;"> 1</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // åˆ›å»ºæ–°çš„promiseå¤„ç†</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">        const</span><span style="--shiki-light:#986801;--shiki-dark:#4FC1FF;"> backoff</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;"> new</span><span style="--shiki-light:#C18401;--shiki-dark:#4EC9B0;"> Promise</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">&lt;</span><span style="--shiki-light:#383A42;--shiki-dark:#4EC9B0;">void</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">&gt;(</span><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">function</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> (</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">resolve</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">) {</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">            setTimeout</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">function</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> () {</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">                resolve</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">();</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">            }, </span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">config</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">retryDelay</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> ||</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;"> 1</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">        });</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // è¿”å›æ’¤å›axiosä»¥é‡è¯•è¯·æ±‚çš„promise</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C586C0;">        await</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;"> backoff</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C586C0;">        return</span><span style="--shiki-light:#A626A4;--shiki-dark:#C586C0;"> await</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;"> service</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">config</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">    }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">});</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">// é”™è¯¯æç¤ºæ˜¾ç¤ºæ–¹å¼</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">const</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;"> errorMsgFun</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> (</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">e</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#0184BC;--shiki-dark:#4EC9B0;"> any</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">=&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">    let</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;"> config</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;"> e</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">config</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">    console</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">log</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&#39;é”™è¯¯å¤„ç†0&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">e</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">    // const params =</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">    //     typeof config?.data == &#39;object&#39; ? config?.data.params : JSON.parse(config?.data)?.params;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">    const</span><span style="--shiki-light:#986801;--shiki-dark:#4FC1FF;"> params</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;"> config</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">data</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">?.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">params</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> ||</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;"> config</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">params</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">    // å¦‚æœæ˜¯å–æ¶ˆè¯·æ±‚çš„è¯ï¼Œä¸åšä»»ä½•å¤„ç†</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C586C0;">    if</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> (</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">e</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">?.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">code</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> ==</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> &#39;ERR_CANCELED&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">) {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">        console</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">log</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&#39;å–æ¶ˆè¯·æ±‚&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">e</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C586C0;">        return</span><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;"> new</span><span style="--shiki-light:#C18401;--shiki-dark:#4EC9B0;"> Promise</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(() </span><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">=&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> {});</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">    }</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">    // å¦‚æœæ˜¯æ­£å¸¸è¯·æ±‚æˆåŠŸä½†æ˜¯æ¥å£è¿”å›çš„codeä¸æ˜¯200</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C586C0;">    if</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> (</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">e</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">?.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">status</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> ===</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;"> 200</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">) {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">        console</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">log</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&#39;æ­£å¸¸è¯·æ±‚&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">e</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">params</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">errorMode</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">config</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">?.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">errorMode</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">        errorHandler</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">            e</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">data</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">result</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">msg</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> ||</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;"> e</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">data</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">result</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">error</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">            getRequestParam</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">config</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">params</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&#39;errorMode&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">        );</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C586C0;">        return</span><span style="--shiki-light:#C18401;--shiki-dark:#4EC9B0;"> Promise</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">reject</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">e</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">?.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">data</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">    }</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">    // å…¶ä»–é”™è¯¯</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">    const</span><span style="--shiki-light:#986801;--shiki-dark:#4FC1FF;"> errMsg</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;"> errorMsgHandler</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">e</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">?.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">status</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> ||</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;"> e</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">?.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">response</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">?.</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">status</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">    errorHandler</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">errMsg</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">getRequestParam</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">config</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">params</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&#39;errorMode&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">));</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C586C0;">    return</span><span style="--shiki-light:#C18401;--shiki-dark:#4EC9B0;"> Promise</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">reject</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">e</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">};</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">// è·å–è¯·æ±‚å‚æ•°çš„å‡½æ•°</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">function</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;"> getRequestParam</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">config</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#0184BC;--shiki-dark:#4EC9B0;"> any</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">params</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#0184BC;--shiki-dark:#4EC9B0;"> any</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">paramName</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#0184BC;--shiki-dark:#4EC9B0;"> string</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">)</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#0184BC;--shiki-dark:#4EC9B0;"> any</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> {</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">    // é¦–å…ˆæ£€æŸ¥ params å¯¹è±¡æ˜¯å¦å­˜åœ¨å¯¹åº”çš„å€¼</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C586C0;">    if</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> (</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">params</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">?.[</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">paramName</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">] </span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">!==</span><span style="--shiki-light:#986801;--shiki-dark:#569CD6;"> undefined</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">) {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C586C0;">        return</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;"> params</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">[</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">paramName</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">];</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">    // å¦‚æœæ²¡æœ‰åœ¨ params ä¸­æ‰¾åˆ°ï¼Œåˆ™æ£€æŸ¥ config å¯¹è±¡ä¸­æ˜¯å¦å­˜åœ¨</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C586C0;">    if</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> (</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">config</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">?.[</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">paramName</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">] </span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">!==</span><span style="--shiki-light:#986801;--shiki-dark:#569CD6;"> undefined</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">) {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C586C0;">        return</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;"> config</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">[</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">paramName</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">];</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">    // å¦‚æœéƒ½æ²¡æœ‰ä¼ å…¥è¯¥å‚æ•°ï¼Œè¿”å› undefined</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C586C0;">    return</span><span style="--shiki-light:#986801;--shiki-dark:#569CD6;"> undefined</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">}</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C586C0;">export</span><span style="--shiki-light:#E45649;--shiki-dark:#C586C0;"> default</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;"> service</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br><span class="line-number">124</span><br><span class="line-number">125</span><br><span class="line-number">126</span><br><span class="line-number">127</span><br><span class="line-number">128</span><br><span class="line-number">129</span><br><span class="line-number">130</span><br><span class="line-number">131</span><br><span class="line-number">132</span><br><span class="line-number">133</span><br><span class="line-number">134</span><br><span class="line-number">135</span><br><span class="line-number">136</span><br><span class="line-number">137</span><br><span class="line-number">138</span><br><span class="line-number">139</span><br><span class="line-number">140</span><br><span class="line-number">141</span><br><span class="line-number">142</span><br><span class="line-number">143</span><br><span class="line-number">144</span><br><span class="line-number">145</span><br><span class="line-number">146</span><br><span class="line-number">147</span><br><span class="line-number">148</span><br><span class="line-number">149</span><br><span class="line-number">150</span><br><span class="line-number">151</span><br><span class="line-number">152</span><br><span class="line-number">153</span><br><span class="line-number">154</span><br><span class="line-number">155</span><br><span class="line-number">156</span><br><span class="line-number">157</span><br><span class="line-number">158</span><br><span class="line-number">159</span><br><span class="line-number">160</span><br><span class="line-number">161</span><br><span class="line-number">162</span><br><span class="line-number">163</span><br><span class="line-number">164</span><br><span class="line-number">165</span><br><span class="line-number">166</span><br><span class="line-number">167</span><br><span class="line-number">168</span><br><span class="line-number">169</span><br><span class="line-number">170</span><br><span class="line-number">171</span><br><span class="line-number">172</span><br><span class="line-number">173</span><br><span class="line-number">174</span><br><span class="line-number">175</span><br><span class="line-number">176</span><br><span class="line-number">177</span><br><span class="line-number">178</span><br><span class="line-number">179</span><br><span class="line-number">180</span><br><span class="line-number">181</span><br><span class="line-number">182</span><br><span class="line-number">183</span><br><span class="line-number">184</span><br><span class="line-number">185</span><br><span class="line-number">186</span><br><span class="line-number">187</span><br><span class="line-number">188</span><br><span class="line-number">189</span><br><span class="line-number">190</span><br><span class="line-number">191</span><br><span class="line-number">192</span><br><span class="line-number">193</span><br><span class="line-number">194</span><br><span class="line-number">195</span><br><span class="line-number">196</span><br><span class="line-number">197</span><br><span class="line-number">198</span><br><span class="line-number">199</span><br><span class="line-number">200</span><br><span class="line-number">201</span><br><span class="line-number">202</span><br><span class="line-number">203</span><br><span class="line-number">204</span><br><span class="line-number">205</span><br><span class="line-number">206</span><br><span class="line-number">207</span><br><span class="line-number">208</span><br><span class="line-number">209</span><br><span class="line-number">210</span><br><span class="line-number">211</span><br><span class="line-number">212</span><br><span class="line-number">213</span><br></div></div></div><h2 id="å°è£…æ¶ˆæ¯å’Œ-loading-æç¤º" tabindex="-1">å°è£…æ¶ˆæ¯å’Œ loading æç¤º <a class="header-anchor" href="#å°è£…æ¶ˆæ¯å’Œ-loading-æç¤º" aria-label="Permalink to &quot;å°è£…æ¶ˆæ¯å’Œ loading æç¤º&quot;">â€‹</a></h2><div class="vp-code-block-title"><div class="vp-code-block-title-bar"><span class="vp-code-block-title-text" data-title="msgHandler.ts">msgHandler.ts</span></div><div class="language-ts vp-adaptive-theme line-numbers-mode"><button title="å¤åˆ¶ä»£ç " class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C586C0;">import</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> { </span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">ElMessage</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">ElMessageBox</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">ElLoading</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> } </span><span style="--shiki-light:#A626A4;--shiki-dark:#C586C0;">from</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> &#39;element-plus&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C586C0;">import</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> { </span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">debounce</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> } </span><span style="--shiki-light:#A626A4;--shiki-dark:#C586C0;">from</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> &#39;es-toolkit&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">// import router from &#39;@renderer/src/router&#39;;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">// import { getToken } from &#39;@renderer/src/api/index.js&#39;;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">// æ ¹æ®modeï¼Œè¿”å›æˆåŠŸä¿¡æ¯</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">const</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;"> successHandler</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> (</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">errMsg</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#0184BC;--shiki-dark:#4EC9B0;"> string</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">mode</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#0184BC;--shiki-dark:#4EC9B0;"> string</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> &#39;null&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">=&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">    const</span><span style="--shiki-light:#986801;--shiki-dark:#4FC1FF;"> msg</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;"> errMsg</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> ||</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> &#39;æ“ä½œæˆåŠŸ&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C586C0;">    if</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> (</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">mode</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> ===</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> &#39;msg&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">) {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">        console</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">log</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&#39;æ¶ˆæ¯ä¸ªæ•°&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">document</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">getElementsByClassName</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&#39;el-message&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">).</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">length</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // if (document.getElementsByClassName(&#39;el-message&#39;).length &lt;= 1) {</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">        ElMessage</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">({</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">            type</span><span style="--shiki-light:#0184BC;--shiki-dark:#9CDCFE;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> &#39;success&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">            message</span><span style="--shiki-light:#0184BC;--shiki-dark:#9CDCFE;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;"> msg</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">            grouping</span><span style="--shiki-light:#0184BC;--shiki-dark:#9CDCFE;">:</span><span style="--shiki-light:#986801;--shiki-dark:#569CD6;"> true</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">            repeatNum</span><span style="--shiki-light:#0184BC;--shiki-dark:#9CDCFE;">:</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;"> 1</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">        });</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        // }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">    }</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C586C0;">    if</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> (</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">mode</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> ===</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> &#39;msgbox&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">) {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">        ElMessageBox</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">alert</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">msg</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&#39;æç¤º&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">            confirmButtonText</span><span style="--shiki-light:#0184BC;--shiki-dark:#9CDCFE;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> &#39;ç¡®å®š&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">// ç¡®å®šæŒ‰é’®çš„æ–‡æœ¬å†…å®¹</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">            type</span><span style="--shiki-light:#0184BC;--shiki-dark:#9CDCFE;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> &#39;success&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">// å›¾æ ‡ç±»å‹ï¼Œå¯é€‰å€¼ä¸º success/error/info/warning/question</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">            showClose</span><span style="--shiki-light:#0184BC;--shiki-dark:#9CDCFE;">:</span><span style="--shiki-light:#986801;--shiki-dark:#569CD6;"> false</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;"> // æ˜¯å¦æ˜¾ç¤ºå³ä¸Šè§’å…³é—­æŒ‰é’®</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">        });</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">    }</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C586C0;">    if</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> (</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">mode</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> ===</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> &#39;hidden&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">) {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">    }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">};</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">// if (document.getElementsByClassName(&#39;el-message&#39;).length &lt;= 1) {</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">//     console.log(&#39;requesrErr&#39; + error)</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;"> // for debug</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">//     Message({</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">//         message: error.error || error.msg || i18n.t(&#39;user.getDataError&#39;),</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">//         type: &#39;error&#39;,</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">//         duration: 3 * 1000</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">//     })</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">// }</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">// æ ¹æ®modeï¼Œè¿”å›é”™è¯¯ä¿¡æ¯</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">const</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;"> errorHandler</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> (</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">errMsg</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#0184BC;--shiki-dark:#4EC9B0;"> string</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">mode</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#0184BC;--shiki-dark:#4EC9B0;"> string</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> &#39;msg&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">=&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">    console</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">log</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&#39;é”™è¯¯ä¿¡æ¯&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">errMsg</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">mode</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">    const</span><span style="--shiki-light:#986801;--shiki-dark:#4FC1FF;"> msg</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;"> errMsg</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> ||</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> &#39;æ“ä½œå¤±è´¥ï¼Œå¯èƒ½ç½‘ç»œä¸å¥½&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C586C0;">    if</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> (</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">mode</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> ===</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> &#39;msg&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">) {</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">        ElMessage</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">({</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">            type</span><span style="--shiki-light:#0184BC;--shiki-dark:#9CDCFE;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> &#39;error&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">            message</span><span style="--shiki-light:#0184BC;--shiki-dark:#9CDCFE;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;"> msg</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">            grouping</span><span style="--shiki-light:#0184BC;--shiki-dark:#9CDCFE;">:</span><span style="--shiki-light:#986801;--shiki-dark:#569CD6;"> true</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">            repeatNum</span><span style="--shiki-light:#0184BC;--shiki-dark:#9CDCFE;">:</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;"> 1</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">        });</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">    }</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C586C0;">    if</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> (</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">mode</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> ===</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> &#39;msgbox&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">) {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">        ElMessageBox</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">alert</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">msg</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&#39;æç¤º&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">            confirmButtonText</span><span style="--shiki-light:#0184BC;--shiki-dark:#9CDCFE;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> &#39;ç¡®å®š&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">// ç¡®å®šæŒ‰é’®çš„æ–‡æœ¬å†…å®¹</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">            type</span><span style="--shiki-light:#0184BC;--shiki-dark:#9CDCFE;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> &#39;error&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">// å›¾æ ‡ç±»å‹ï¼Œå¯é€‰å€¼ä¸º success/error/info/warning/question</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">            showClose</span><span style="--shiki-light:#0184BC;--shiki-dark:#9CDCFE;">:</span><span style="--shiki-light:#986801;--shiki-dark:#569CD6;"> false</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;"> // æ˜¯å¦æ˜¾ç¤ºå³ä¸Šè§’å…³é—­æŒ‰é’®</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">        });</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">    }</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C586C0;">    if</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> (</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">mode</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> ===</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> &#39;hidden&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">) {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">    }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">};</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">// æ ¹æ®é”™è¯¯ä»£ç ï¼Œè·å–å¯¹åº”æ–‡å­—</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">const</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;"> errorMsgHandler</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> (</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">errStatus</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#0184BC;--shiki-dark:#4EC9B0;"> number</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">)</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#0184BC;--shiki-dark:#4EC9B0;"> string</span><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;"> =&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C586C0;">    if</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> (</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">errStatus</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> ==</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;"> 500</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C586C0;">return</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> &#39;æ“ä½œå¤±è´¥&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C586C0;">    if</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> (</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">errStatus</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> ==</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;"> 400</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C586C0;">return</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> &#39;æ²¡æœ‰æƒé™&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C586C0;">    if</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> (</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">errStatus</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> ==</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;"> 404</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C586C0;">return</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> &#39;æ¥å£é”™è¯¯&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C586C0;">    return</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> &#39;æ“ä½œå¤±è´¥&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">// åˆ¤æ–­æ˜¯å¦æ˜¾ç¤ºloading</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">let</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;"> loading</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#0184BC;--shiki-dark:#4EC9B0;"> any</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">//å½“å‰æ­£åœ¨è¯·æ±‚çš„æ•°é‡</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">let</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;"> needLoadingRequestCount</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;"> 0</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">//æ˜¾ç¤ºloading</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">const</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;"> showLoading</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> (</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">target</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#0184BC;--shiki-dark:#4EC9B0;"> string</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> &#39;body&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">retry</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">:</span><span style="--shiki-light:#0184BC;--shiki-dark:#4EC9B0;"> number</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">=&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> {</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">    // åé¢è¿™ä¸ªåˆ¤æ–­å¾ˆé‡è¦ï¼Œå› ä¸ºå…³é—­æ—¶åŠ äº†æŠ–åŠ¨ï¼Œæ­¤æ—¶loadingå¯¹è±¡å¯èƒ½è¿˜å­˜åœ¨ï¼Œ</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">    // ä½†needLoadingRequestCountå·²ç»å˜æˆ0.é¿å…è¿™ç§æƒ…å†µä¸‹ä¼šé‡æ–°åˆ›å»ºä¸ªloading</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C586C0;">    if</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> (</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">needLoadingRequestCount</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> ===</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;"> 0</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> &amp;&amp;</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> !</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">loading</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">) {</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">        loading</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;"> ElLoading</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">service</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">({</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">            lock</span><span style="--shiki-light:#0184BC;--shiki-dark:#9CDCFE;">:</span><span style="--shiki-light:#986801;--shiki-dark:#569CD6;"> true</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">            text</span><span style="--shiki-light:#0184BC;--shiki-dark:#9CDCFE;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;"> retry</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> ==</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;"> 0</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> ?</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> &#39;åŠ è½½ä¸­ï¼Œè¯·ç¨å&#39;</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> :</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> &#39;ç¬¬&#39;</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> +</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;"> retry</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> +</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> &#39;æ¬¡é‡æ–°åŠ è½½ä¸­ï¼Œè¯·ç¨å&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">            background</span><span style="--shiki-light:#0184BC;--shiki-dark:#9CDCFE;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> &#39;rgba(255, 255, 255, 0.5)&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">            target</span><span style="--shiki-light:#0184BC;--shiki-dark:#9CDCFE;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;"> target</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> ||</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> &#39;body&#39;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">        });</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">        console</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">log</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&#39;åŠ å…¹å®‰ç¤ºä¾‹&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">needLoadingRequestCount</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">target</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">loading</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">    }</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">    needLoadingRequestCount</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">++</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">    // console.log(&#39;åŠ å…¹å®‰ç¤ºä¾‹&#39;, needLoadingRequestCount, target);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">};</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">//éšè—loading</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">const</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;"> hideLoading</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> () </span><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">=&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> {</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">    needLoadingRequestCount</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">--</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">    needLoadingRequestCount</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;"> Math</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">max</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">needLoadingRequestCount</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">); </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">//åšä¸ªä¿æŠ¤</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C586C0;">    if</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> (</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">needLoadingRequestCount</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> ===</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;"> 0</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">) {</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">        //å…³é—­loading</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">        toHideLoading</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">();</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">    }</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">    // console.log(&#39;åŠ å…¹å®‰ç¤ºä¾‹2&#39;, needLoadingRequestCount);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">};</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">//é˜²æŠ–ï¼šå°† 300ms é—´éš”å†…çš„å…³é—­ loading ä¾¿åˆå¹¶ä¸ºä¸€æ¬¡ã€‚é˜²æ­¢è¿ç»­è¯·æ±‚æ—¶ï¼Œ loadingé—ªçƒçš„é—®é¢˜ã€‚</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">var</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;"> toHideLoading</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;"> debounce</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(() </span><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;">=&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> {</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">    // ElLoading.service({}).close();</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C586C0;">    if</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> (</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">loading</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">) {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">        loading</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">close</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">();</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">        loading</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#569CD6;"> null</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">        console</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">log</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&#39;ç»“æŸloading&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">    }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">}, </span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">300</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C586C0;">export</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> { </span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">successHandler</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">errorHandler</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">errorMsgHandler</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">showLoading</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">hideLoading</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> };</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br></div></div></div><h2 id="ä½¿ç”¨" tabindex="-1">ä½¿ç”¨ <a class="header-anchor" href="#ä½¿ç”¨" aria-label="Permalink to &quot;ä½¿ç”¨&quot;">â€‹</a></h2><div class="vp-code-block-title"><div class="vp-code-block-title-bar"><span class="vp-code-block-title-text" data-title="index.js">index.js</span></div><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="å¤åˆ¶ä»£ç " class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">//ç»Ÿä¸€ç®¡ç†é¡¹ç›®å…¨éƒ¨æ¥å£çš„æ–‡ä»¶</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">//è·å–çœŸå®æœåŠ¡å™¨çš„æ¥å£çš„æ•°æ®åˆ©ç”¨å½“å‰axios</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C586C0;">import</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;"> request</span><span style="--shiki-light:#A626A4;--shiki-dark:#C586C0;"> from</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> &#39;./request&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">// get</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C586C0;">export</span><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;"> function</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;"> get</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">data</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">) {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C586C0;">    return</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;"> request</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">({</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">        url</span><span style="--shiki-light:#0184BC;--shiki-dark:#9CDCFE;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> &#39;&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">        method</span><span style="--shiki-light:#0184BC;--shiki-dark:#9CDCFE;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> &#39;get&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">        params</span><span style="--shiki-light:#0184BC;--shiki-dark:#9CDCFE;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;"> data</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">    });</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">}</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">// post</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C586C0;">export</span><span style="--shiki-light:#A626A4;--shiki-dark:#569CD6;"> function</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;"> post</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">data</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">) {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C586C0;">    return</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;"> request</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">({</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">        url</span><span style="--shiki-light:#0184BC;--shiki-dark:#9CDCFE;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> &#39;&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">        method</span><span style="--shiki-light:#0184BC;--shiki-dark:#9CDCFE;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> &#39;post&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">        data</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">    });</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div></div>`,10)]))}const y=i(h,[["render",k]]);export{g as __pageData,y as default};
