import{_ as a,c as n,o as e,j as s,b2 as l,a as t}from"./chunks/framework.CF7B9edl.js";const D=JSON.parse('{"title":"vue 切换皮肤模式(黑天白天)","description":"","frontmatter":{},"headers":[],"relativePath":"zh/functions/vue切换皮肤模式.md","filePath":"zh/functions/vue切换皮肤模式.md","lastUpdated":1742831199000}'),p={name:"zh/functions/vue切换皮肤模式.md"};function h(k,i,r,d,c,o){return e(),n("div",null,i[0]||(i[0]=[s("h1",{id:"vue-切换皮肤模式-黑天白天",tabindex:"-1"},[t("vue 切换皮肤模式(黑天白天) "),s("a",{class:"header-anchor",href:"#vue-切换皮肤模式-黑天白天","aria-label":'Permalink to "vue 切换皮肤模式(黑天白天)"'},"​")],-1),s("p",null,[s("a",{href:"https://juejin.cn/post/7134594122391748615",target:"_blank",rel:"noreferrer"},"https://juejin.cn/post/7134594122391748615")],-1),s("p",null,[s("a",{href:"https://juejin.cn/post/6844903914198794254",target:"_blank",rel:"noreferrer"},"https://juejin.cn/post/6844903914198794254")],-1),s("p",null,[s("span",{class:"img-wrapper"},[s("img",{src:"https://cdn.jsdelivr.net/gh/dcdy/image/img/202209191830518.png",alt:"image-20220919182953323",width:"auto",height:"auto",class:"img-loading",onload:"this.classList.remove('img-loading')",onerror:"this.classList.remove('img-loading'); this.classList.add('img-error')"})])],-1),l(`<h2 id="_1-安装-sass-resources-loader" tabindex="-1">1.安装 sass-resources-loader <a class="header-anchor" href="#_1-安装-sass-resources-loader" aria-label="Permalink to &quot;1.安装 sass-resources-loader&quot;">​</a></h2><blockquote><p><strong>安装 sass-resources-loader（不然不能直接在.vue 文件里使用$变量）</strong></p></blockquote><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">npm</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> install</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> sass-resources-loader</span><span style="--shiki-light:#986801;--shiki-dark:#569CD6;"> --save-dev</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="_2-定义全局-scss-变量" tabindex="-1">2.定义全局 scss 变量 <a class="header-anchor" href="#_2-定义全局-scss-变量" aria-label="Permalink to &quot;2.定义全局 scss 变量&quot;">​</a></h2><blockquote><p><strong>index.scss</strong></p></blockquote><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">@</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">import</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> &#39;./all-theme.scss&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><blockquote><p><strong>all-theme.scss</strong></p></blockquote><div class="language-css vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">css</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">/**</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">    切换模式的css变量整合</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">*/</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C586C0;">@import</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> &#39;./dark-theme.scss&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C586C0;">@import</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> &#39;./light-theme.scss&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">$</span><span style="--shiki-light:#E45649;--shiki-dark:#569CD6;">theme-background</span><span style="--shiki-light:#A626A4;--shiki-dark:#D4D4D4;">: var(--theme-background</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><blockquote><p><strong>dark-theme.scss</strong></p></blockquote><div class="language-css vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">css</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">/**</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">    黑暗模式的css变量</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">*/</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">/* 更改dark类名下变量的取值 */</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D7BA7D;">.dark</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">    --theme-color</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#986801;--shiki-dark:#CE9178;">#eee</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">    --theme-background</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#986801;--shiki-dark:#CE9178;">#333</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><blockquote><p><strong>light-theme.scss</strong></p></blockquote><div class="language-css vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">css</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">/**</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">    浅色模式的css变量</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">*/</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">/* 更改light类名下变量的取值 */</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D7BA7D;">.light</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">    --theme-color</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#986801;--shiki-dark:#CE9178;">#fff</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">    --theme-background</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#986801;--shiki-dark:#CE9178;">#fff</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><blockquote><p><strong>vue.config.js</strong></p><p><a href="https://blog.csdn.net/Zxf_xcn/article/details/121117785" target="_blank" rel="noreferrer">https://blog.csdn.net/Zxf_xcn/article/details/121117785</a></p><p><strong>sass-loader 版本不同，loaderOptions 中 additionalData 的键名也不同</strong></p><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">sass</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">-</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">loader</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;"> v8</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">-</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">选项名是</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&#39;data&#39;</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">sass</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">-</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">loader</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;"> v8</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">选项名是</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&#39;prependData&#39;</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">sass</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">-</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">loader</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;"> v10</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">选项名是</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&#39;additionalData&#39;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></blockquote><div class="caution custom-block github-alert"><p class="custom-block-title">注意</p><p></p><p>v10+版本全局引入时@import 需改为@use as *</p><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#C8C8C8;">css</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">: {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#C8C8C8;">    preprocessorOptions</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">: {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#C8C8C8;">        scss</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">: {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#C8C8C8;">            additionalData</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">\`@use &quot;@/styles/index.scss&quot; as *;\`</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">        }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">    }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div></div><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#C8C8C8;">css</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">: {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#C8C8C8;">  loaderOptions</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">: {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#C8C8C8;">    scss</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">: {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#C8C8C8;">      data</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">:  </span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">\`@import &quot;@/styles/index.scss&quot;;\`</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">//这样就可以全局使用index.scss的变量，不用每个页面引入</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">    },</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">  },</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">},</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h2 id="_3-使用全局-scss-变量" tabindex="-1">3.使用全局 scss 变量 <a class="header-anchor" href="#_3-使用全局-scss-变量" aria-label="Permalink to &quot;3.使用全局 scss 变量&quot;">​</a></h2><blockquote><p><strong>.vue 文件</strong></p></blockquote><div class="language-html vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">html</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#808080;">&lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#569CD6;">el-button</span><span style="--shiki-light:#986801;--shiki-dark:#9CDCFE;"> @click</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&quot;setTheme(&#39;light&#39;)&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">light</span><span style="--shiki-light:#383A42;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#569CD6;">el-button</span><span style="--shiki-light:#383A42;--shiki-dark:#808080;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#808080;">&lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#569CD6;">el-button</span><span style="--shiki-light:#986801;--shiki-dark:#9CDCFE;"> @click</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&quot;setTheme(&#39;dark&#39;)&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#808080;">&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">dark</span><span style="--shiki-light:#383A42;--shiki-dark:#808080;">&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#569CD6;">el-button</span><span style="--shiki-light:#383A42;--shiki-dark:#808080;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">// 切换模式</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">setTheme</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">type</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">){</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#9CDCFE;">    document</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">getElementById</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&quot;app&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">).</span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">className</span><span style="--shiki-light:#0184BC;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;"> type</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><div class="language-scss vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">scss</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D7BA7D;">.main</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> {</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#9CDCFE;">    background-color</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#E45649;--shiki-dark:#9CDCFE;">$theme-background</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div>`,20)]))}const u=a(p,[["render",h]]);export{D as __pageData,u as default};
