import{_ as e,c as l,o as p,b2 as a,j as s,a as i}from"./chunks/framework.CF7B9edl.js";const A=JSON.parse('{"title":"Git","description":"","frontmatter":{},"headers":[],"relativePath":"zh/others/Git.md","filePath":"zh/others/Git.md","lastUpdated":1742747905000}'),t={name:"zh/others/Git.md"};function h(k,n,r,d,g,c){return p(),l("div",null,n[0]||(n[0]=[a(`<h1 id="git" tabindex="-1">Git <a class="header-anchor" href="#git" aria-label="Permalink to &quot;Git&quot;">​</a></h1><h2 id="问题" tabindex="-1">问题 <a class="header-anchor" href="#问题" aria-label="Permalink to &quot;问题&quot;">​</a></h2><h3 id="git-克隆后只有-git-文件" tabindex="-1">git 克隆后只有.git 文件 <a class="header-anchor" href="#git-克隆后只有-git-文件" aria-label="Permalink to &quot;git 克隆后只有.git 文件&quot;">​</a></h3><blockquote><p>原因：主分支名称不是 master</p></blockquote><ol><li>git branch 查看分支</li><li>git checkout 主分支名 切换到主分支</li></ol><h2 id="_1-初始化本地仓库" tabindex="-1">1. 初始化本地仓库 <a class="header-anchor" href="#_1-初始化本地仓库" aria-label="Permalink to &quot;1. 初始化本地仓库&quot;">​</a></h2><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">git</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> init</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>创建.git 文件夹，存放修改前后的版本信息，方便回滚以及记录</p><blockquote><p>.git 是隐藏文件夹，需要设置显示隐藏文件夹才可以显示</p></blockquote><h2 id="_2-提交文件到缓冲区" tabindex="-1">2. 提交文件到缓冲区 <a class="header-anchor" href="#_2-提交文件到缓冲区" aria-label="Permalink to &quot;2. 提交文件到缓冲区&quot;">​</a></h2><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">//全部提交</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">git</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> add</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> .</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">//</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> 单个文件</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">git</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> add</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> first_file.txt</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="_3-提交暂存区文件进仓库" tabindex="-1">3. 提交暂存区文件进仓库 <a class="header-anchor" href="#_3-提交暂存区文件进仓库" aria-label="Permalink to &quot;3. 提交暂存区文件进仓库&quot;">​</a></h2><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">git</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> commit</span><span style="--shiki-light:#986801;--shiki-dark:#569CD6;"> -m</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> &quot;提交信息&quot;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>提交工作区的文件进仓库</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">git</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> commit</span><span style="--shiki-light:#986801;--shiki-dark:#569CD6;"> -a</span><span style="--shiki-light:#986801;--shiki-dark:#569CD6;"> -m</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> &quot;提交信息&quot;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>不需要进入暂存区就提交工作区的文件，其中-a 是-all 全部的意思</p><blockquote><p>注意，这个方法不提交新的文件，只针对 git 已追踪的文件，即已存在的文件，新文件提交仍然需要 gitadd 再 git commit</p></blockquote><h2 id="_4-查看仓库状态" tabindex="-1">4. 查看仓库状态 <a class="header-anchor" href="#_4-查看仓库状态" aria-label="Permalink to &quot;4. 查看仓库状态&quot;">​</a></h2><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">git</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> status</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="_5-查看提交日志-可查看提交人、分支、文件、时间" tabindex="-1">5. 查看提交日志(可查看提交人、分支、文件、时间) <a class="header-anchor" href="#_5-查看提交日志-可查看提交人、分支、文件、时间" aria-label="Permalink to &quot;5. 查看提交日志(可查看提交人、分支、文件、时间)&quot;">​</a></h2><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">git</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> log</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>指令有其他参数<code>git log [option]</code>，其中 option 的值有</p><ul><li><p>分支名,可单独查看分支的 修改</p></li><li><p><code>--all</code></p></li></ul><p>显示所有分支</p><ul><li><code>--all d</code></li></ul><p>提交信息为一行</p><ul><li><code>--abbrev-commit</code></li></ul><p>让输出的 commitId 简短</p><ul><li><code>--graph</code></li></ul><p>以图片形式显示</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">git</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> log</span><span style="--shiki-light:#986801;--shiki-dark:#569CD6;"> --graph</span><span style="--shiki-light:#986801;--shiki-dark:#569CD6;"> --all</span><span style="--shiki-light:#986801;--shiki-dark:#569CD6;"> --pretty=oneline</span><span style="--shiki-light:#986801;--shiki-dark:#569CD6;"> --abbrev-commit</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>其余更多请参考<a href="https://zhuanlan.zhihu.com/p/629756328" target="_blank" rel="noreferrer">git log 命令参数详解 - 知乎 (zhihu.com)</a></p><p><strong>所有日志，包括回退的日志</strong></p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">git</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> reflog</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="_6-版本回退" tabindex="-1">6. 版本回退 <a class="header-anchor" href="#_6-版本回退" aria-label="Permalink to &quot;6. 版本回退&quot;">​</a></h2><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">git</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> reset</span><span style="--shiki-light:#986801;--shiki-dark:#569CD6;">  --hard</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> commitID</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><code>commitID</code> 通过 <code>git log</code> 查看</p><blockquote><p><code>--soft</code> 、<code>--mixed</code>以及<code>--hard</code>是三个恢复等级。</p><ul><li>使用<code>--soft</code>就仅仅将头指针恢复，已经 add 的暂存区以及工作空间的所有东西都不变。</li><li>如果使用<code>--mixed</code>，就将头恢复掉，已经 add 的暂存区也会丢失掉，工作空间的代码什么的是不变的。</li><li>如果使用<code>--hard</code>，那么一切就全都恢复了，头变，aad 的暂存区消失，代码什么的也恢复到以前状态。</li></ul></blockquote><p>注意！！！</p><blockquote><p>使用<code>git reset</code>只会把 git 已追踪的文件回退，不会把新建立的文件删除</p><p>如果要清理新建立的文件有俩种方式</p><ol><li><code>git add</code>加入追踪后回退</li><li><code>git clean</code>清理未追踪的文件</li></ol></blockquote><h2 id="_7-查看分支" tabindex="-1">7. 查看分支 <a class="header-anchor" href="#_7-查看分支" aria-label="Permalink to &quot;7. 查看分支&quot;">​</a></h2><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">git</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> branch</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="_8-创建分支" tabindex="-1">8. 创建分支 <a class="header-anchor" href="#_8-创建分支" aria-label="Permalink to &quot;8. 创建分支&quot;">​</a></h2><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">git</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> branch</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> 分支名</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="_9-切换分支" tabindex="-1">9. 切换分支 <a class="header-anchor" href="#_9-切换分支" aria-label="Permalink to &quot;9. 切换分支&quot;">​</a></h2><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;"> git</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> checkout</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> 分支名</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;"> //or</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;"> git</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> switch</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> 分支名</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><code>HEAD</code>指向当前分支</p><p>切换到一个不存在的分支，即创建新分支并复制当前分支内容并切换</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">git</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> checkout</span><span style="--shiki-light:#986801;--shiki-dark:#569CD6;"> -b</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> 分支名</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">//or</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">git</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> switch</span><span style="--shiki-light:#986801;--shiki-dark:#569CD6;"> -c</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">  分支名</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="_10-删除分支" tabindex="-1">10. 删除分支 <a class="header-anchor" href="#_10-删除分支" aria-label="Permalink to &quot;10. 删除分支&quot;">​</a></h2><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">git</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> branch</span><span style="--shiki-light:#986801;--shiki-dark:#569CD6;"> -d</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> 分支名</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">//↑</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> 需要做各种检查</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">//不做检查强制删除</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">git</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> branch</span><span style="--shiki-light:#986801;--shiki-dark:#569CD6;"> -D</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> 分支名</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="_11-合并分支" tabindex="-1">11. 合并分支 <a class="header-anchor" href="#_11-合并分支" aria-label="Permalink to &quot;11. 合并分支&quot;">​</a></h2><p>首先使用<code>git switch</code>或者<code>git checkout</code>选择需要保留的分支上</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">git</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> merge</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> 分支名</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>合并后<code>esc</code>+<code>:</code>+<code>wq</code>退出合并文本编辑</p><h5 id="处理分支" tabindex="-1">处理分支 <a class="header-anchor" href="#处理分支" aria-label="Permalink to &quot;处理分支&quot;">​</a></h5><p>当是使用<code>merge</code>合并分支的时候,如果有相同的文件修改了不一样的变动，即<code>冲突</code>,此时 git 会自动合并,git 并不会处理冲突，只在命令行告诉什么地方会有冲突:</p>`,57),s("p",null,[s("span",{class:"img-wrapper"},[s("img",{src:"https://cdn.jsdelivr.net/gh/dcdy/image/img/blogimage-20240515085927238.webp",alt:"image-20240515085927238",width:"auto",height:"auto",class:"img-loading",onload:"this.classList.remove('img-loading')",onerror:"this.classList.remove('img-loading'); this.classList.add('img-error')"})])],-1),s("p",null,"在 test.txt 文件内是这样的",-1),s("p",null,[s("span",{class:"img-wrapper"},[s("img",{src:"https://cdn.jsdelivr.net/gh/dcdy/image/img/blogimage-20240515090143129.webp",alt:"image-20240515090143129",width:"auto",height:"auto",class:"img-loading",onload:"this.classList.remove('img-loading')",onerror:"this.classList.remove('img-loading'); this.classList.add('img-error')"})])],-1),s("p",null,[i("其中``HEAD"),s("code",null,"到"),i("====="),s("code",null,"分割线是所合并的主分支内容，等号分割线下到"),i("hello`是被合并的分支（hello 是合并的分支名）")],-1),s("p",null,[i("之后手动修改需要解决的冲突内容，可以选择都保留，也可以选择留下一部分，"),s("code",null,"git add"),i("+"),s("code",null,"git commit"),i("上传本地仓库，以下是项目流程结构图")],-1),s("p",null,[s("span",{class:"img-wrapper"},[s("img",{src:"https://cdn.jsdelivr.net/gh/dcdy/image/img/blogimage-20240515094404470.webp",alt:"image-20240515094404470",width:"auto",height:"auto",class:"img-loading",onload:"this.classList.remove('img-loading')",onerror:"this.classList.remove('img-loading'); this.classList.add('img-error')"})])],-1),s("h5",{id:"禁用-fast-forward",tabindex:"-1"},[i("禁用 Fast forward "),s("a",{class:"header-anchor",href:"#禁用-fast-forward","aria-label":'Permalink to "禁用 Fast forward"'},"​")],-1),s("p",null,"默认的快速合并的结果：",-1),s("p",null,[s("span",{class:"img-wrapper"},[s("img",{src:"https://cdn.jsdelivr.net/gh/dcdy/image/img/blogimage-20240522143722591.webp",alt:"image-20240522143722591",width:"auto",height:"auto",class:"img-loading",onload:"this.classList.remove('img-loading')",onerror:"this.classList.remove('img-loading'); this.classList.add('img-error')"})])],-1),s("p",null,"其中新建用户是 dev 的 commit ，快速合并中 HEAD 直接指向 dev，导致 dev 的提交信息被遗失了",-1),s("p",null,"以下是 禁用快速合并的结果",-1),s("p",null,[s("span",{class:"img-wrapper"},[s("img",{src:"https://cdn.jsdelivr.net/gh/dcdy/image/img/blogimage-20240522144153222.webp",alt:"image-20240522144153222",width:"auto",height:"auto",class:"img-loading",onload:"this.classList.remove('img-loading')",onerror:"this.classList.remove('img-loading'); this.classList.add('img-error')"})])],-1),a('<p>如图所示，合并后的 commit 信息还在</p><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">git</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> merge</span><span style="--shiki-light:#986801;--shiki-dark:#569CD6;"> --no-ff</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> feature-branch</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h5 id="squash" tabindex="-1">squash <a class="header-anchor" href="#squash" aria-label="Permalink to &quot;squash&quot;">​</a></h5><p>如果分支 commit 太多太乱，可以使用</p><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">git</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> merge</span><span style="--shiki-light:#986801;--shiki-dark:#569CD6;"> --squash</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> feature-branch</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>这项指令会让所有的提交合并为一个提交进行合并，并且不保留合并信息</p><h2 id="_12-变基" tabindex="-1">12. 变基 <a class="header-anchor" href="#_12-变基" aria-label="Permalink to &quot;12. 变基&quot;">​</a></h2><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">git</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> rebase</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>交换 commit 的顺序，重写 commit 的顺序，让提交历史更加简洁易懂</p><h2 id="_13-远程仓库" tabindex="-1">13. 远程仓库 <a class="header-anchor" href="#_13-远程仓库" aria-label="Permalink to &quot;13. 远程仓库&quot;">​</a></h2><h3 id="先要关联远程仓库" tabindex="-1">先要关联远程仓库 <a class="header-anchor" href="#先要关联远程仓库" aria-label="Permalink to &quot;先要关联远程仓库&quot;">​</a></h3><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">git</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> remote</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> add</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> origin</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> 远程仓库地址</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li><code>origin</code>的作用是给远程仓库地址起一个别名为<code>origin</code>，这是一个默认名字,可以替换，相当于 c 语言的<code>typedef</code>以及<code>#define</code>,origin 作为远程仓库的地址添加到本地仓库，在之后的拉取代码，推送代码的过程中就不需要每次都打一大串的远程仓库地址</li></ul><h3 id="查看绑定的远程仓库地址" tabindex="-1">查看绑定的远程仓库地址 <a class="header-anchor" href="#查看绑定的远程仓库地址" aria-label="Permalink to &quot;查看绑定的远程仓库地址&quot;">​</a></h3><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">git</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> remote</span><span style="--shiki-light:#986801;--shiki-dark:#569CD6;"> -v</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="有多少个远程仓库" tabindex="-1">有多少个远程仓库 <a class="header-anchor" href="#有多少个远程仓库" aria-label="Permalink to &quot;有多少个远程仓库&quot;">​</a></h3><blockquote><p>建议使用上面的指令查看，包含关系关系如下图</p></blockquote>',17),s("p",null,[s("span",{class:"img-wrapper"},[s("img",{src:"https://cdn.jsdelivr.net/gh/dcdy/image/img/blogimage-20240518203302693.webp",alt:"image-20240518203302693",width:"auto",height:"auto",class:"img-loading",onload:"this.classList.remove('img-loading')",onerror:"this.classList.remove('img-loading'); this.classList.add('img-error')"})])],-1),a('<div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">git</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> remote</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="推送到远程仓库" tabindex="-1">推送到远程仓库 <a class="header-anchor" href="#推送到远程仓库" aria-label="Permalink to &quot;推送到远程仓库&quot;">​</a></h3><p>最常用的指令</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">git</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> push</span><span style="--shiki-light:#986801;--shiki-dark:#569CD6;"> -u</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> origin</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> main</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>命令为推送文件夹的所有不被忽略的文件到 origin 所指的仓库地址的 main 分支上</li><li><code>-u</code>是<code>--set-upstream</code>的缩写</li></ul><p>用于关联远程仓库与本地仓库的指定分支，关联后不需要指定分支名就可以使用<code>git push</code>以及<code>git pull</code>指令</p><p>查看本地分支以及远程仓库分支的跟踪状态</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">git</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> branch</span><span style="--shiki-light:#986801;--shiki-dark:#569CD6;"> -vv</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div>',8),s("p",null,[s("span",{class:"img-wrapper"},[s("img",{src:"https://cdn.jsdelivr.net/gh/dcdy/image/img/blogimage-20240518204251921.webp",alt:"image-20240518204251921",width:"auto",height:"auto",class:"img-loading",onload:"this.classList.remove('img-loading')",onerror:"this.classList.remove('img-loading'); this.classList.add('img-error')"})])],-1),a(`<p>修改关联分支仓库</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">git</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> branch</span><span style="--shiki-light:#986801;--shiki-dark:#569CD6;"> -u</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> origin/new-branch</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> old-branch-name</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>完全指令</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">git</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> push</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> [-f] [--set-upstream][远端名称[本地分支名][:远端分支名]]</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li><code>-f</code> ，即<code>--force</code>如果指令加入，则是不理会推送冲突（即他人的提交或者在远程仓库的修改），强制覆盖</li><li><code>--set-upstream</code>也就是<code>-u</code>上面有详细解释</li><li>远端名称，即远程仓库地址，可用别名替代，也就是默认设置的<code>origin</code></li><li>如果远程仓库和本地仓库一致，则省略<code>[:远程分支]</code></li><li>推送到不同的名称的的分支示例<code>git push -u origin main:yuan_branch</code> ，本地的 main 分支推送到了远程的 yuan_branch 分支</li></ul><h3 id="克隆-远程仓库" tabindex="-1">克隆 远程仓库 <a class="header-anchor" href="#克隆-远程仓库" aria-label="Permalink to &quot;克隆 远程仓库&quot;">​</a></h3><blockquote><p>clone，和词意相当，也就是把远程仓库的全部文件下载到本地</p></blockquote><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">git</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> clone</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> 远程仓库地址</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> [本地文件夹名称]</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">//例如</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">git</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> clone</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> https://github.com/用户名/仓库名.git</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">  repo</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ul><li>本地文件夹名称可省略，会在当前自动创建一个远程仓库名的文件夹。并把所有的文件下载到这个文件夹里面</li></ul><p>设置了文件夹名则是在目录下创建文件夹名的文件夹，并把所有的文件下载到这个文件夹里面。</p><h3 id="连接远程仓库" tabindex="-1">连接远程仓库 <a class="header-anchor" href="#连接远程仓库" aria-label="Permalink to &quot;连接远程仓库&quot;">​</a></h3><p>除了 push 时连接远程仓库外还可以通过以下方法</p><p><code>git checkout --track origin/dev</code></p><p>作用：</p><ol><li>创建一个名为 <code>dev</code> 的本地分支（假设远程分支是 <code>origin/dev</code>）。</li><li>切换到这个新创建的本地分支。</li><li>配置这个本地分支以跟踪远程分支 <code>origin/dev</code></li></ol><p>或</p><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">git</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> checkout</span><span style="--shiki-light:#986801;--shiki-dark:#569CD6;"> -b</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> dev</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> origin/dev</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">  # 创建并切换到本地分支 dev，从 origin/dev 的当前提交开始</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">git</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> branch</span><span style="--shiki-light:#986801;--shiki-dark:#569CD6;"> --set-upstream-to=origin/dev</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#6A9955;--shiki-dark-font-style:inherit;">  # 配置本地分支 dev 以跟踪 origin/dev</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>将这两个步骤合并为一步</p><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">git</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> checkout</span><span style="--shiki-light:#986801;--shiki-dark:#569CD6;"> -b</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> dev</span><span style="--shiki-light:#986801;--shiki-dark:#569CD6;"> --track</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> origin/dev</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="_14-抓取和拉取远程仓库" tabindex="-1">14. 抓取和拉取远程仓库 <a class="header-anchor" href="#_14-抓取和拉取远程仓库" aria-label="Permalink to &quot;14. 抓取和拉取远程仓库&quot;">​</a></h2><p>抓取：<code>fetch</code>,获取远程仓库的最新修改，创造一个 origin/分支名的新分支，不会自动合并需要手动合并</p><p>以下是使用方法：</p><ul><li>获取所有分支</li></ul><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">git</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> fetch</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> origin</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>获取远程仓库的某个分支</li></ul><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">git</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> fetch</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">  origin</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> main</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>抓取最新变化以后，需要手动去合并分支，更新本地仓库的代码</p><p>拉取：<code>full</code>，获取远程仓库的修改，并且合并这个修改的代码到本地仓库，此时可能产生冲突，这时候就需要手动解决冲突</p><p>也就是说，<code>full</code>其实是<code>fetch</code>+<code>merge</code></p><h2 id="_15-贮藏-stash" tabindex="-1">15. 贮藏 stash <a class="header-anchor" href="#_15-贮藏-stash" aria-label="Permalink to &quot;15. 贮藏 stash&quot;">​</a></h2><p>当在一个分支中，已经完成了一部分的开发，但是还不能提交，这时候需要切换到另一个分支（例如有紧急 bug），这个时候切换分支未提交的文件就会一起带到另一个分支上，</p><p>这个时候就需要冷藏这个分支上未提交的工作区。</p><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">$</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> git</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> status</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">On</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> branch</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> hello</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">Changes</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> not</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> staged</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> for</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> commit:</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">  (</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">use</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> &quot;git add &lt;file&gt;...&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> to</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> update</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> what</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> will</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> be</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> committed</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">  (</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">use</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> &quot;git restore &lt;file&gt;...&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> to</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> discard</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> changes</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> in</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> working</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> directory</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">        modified:</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">   &quot;\\345\\210\\206\\346\\224\\257.txt&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">no</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> changes</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> added</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> to</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> commit</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> (use </span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&quot;git add&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> and/or</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> &quot;git commit -a&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">Yee@Yee</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> MINGW64</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> ~/Desktop/gitdome</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> (hello)</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">$</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> git</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> stash</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">Saved</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> working</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> directory</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> and</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> index</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> state</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> WIP</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> on</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> hello:</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> 336d4e3</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> Merge</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> branch</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> &#39;dev2&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">Yee@Yee</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> MINGW64</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> ~/Desktop/gitdome</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> (hello)</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">$</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> git</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> status</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">On</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> branch</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> hello</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">nothing</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> to</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> commit,</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> working</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> tree</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> clean</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>这个时候工作区就干净了，可以任意切换分支了</p><p><code>git stash</code>贮藏</p><p><code> git stash list</code>查看所有的贮藏</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">$</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> git</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> stash</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> list</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">stash@</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">{0}</span><span style="--shiki-light:#0184BC;--shiki-dark:#DCDCAA;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> WIP</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> on</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> hello:</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> 336d4e3</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> Merge</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> branch</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> &#39;dev2&#39;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>可以通过下述命令来标记此次储藏，以便后期查看</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">git</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> stash</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> save</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> [stashMessage]</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>解封/恢复</p><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">Yee@Yee</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> MINGW64</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> ~/Desktop/gitdome</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> (dev)</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">$</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> git</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> stash</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> apply</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">On</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> branch</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> dev</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">Changes</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> not</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> staged</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> for</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> commit:</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">  (</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">use</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> &quot;git add &lt;file&gt;...&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> to</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> update</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> what</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> will</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> be</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> committed</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">  (</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">use</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> &quot;git restore &lt;file&gt;...&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> to</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> discard</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> changes</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> in</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> working</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> directory</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">        modified:</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">   &quot;\\346\\226\\260\\345\\273\\272\\347\\224\\250\\346\\210\\267.txt&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">no</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> changes</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> added</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> to</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> commit</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> (use </span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&quot;git add&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> and/or</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> &quot;git commit -a&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">Yee@Yee</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> MINGW64</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> ~/Desktop/gitdome</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> (dev)</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">$</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> git</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> stash</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> list</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">stash@</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">{0}</span><span style="--shiki-light:#0184BC;--shiki-dark:#DCDCAA;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> WIP</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> on</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> dev:</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> fc958c7</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> 新建用户</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">stash@</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">{1}</span><span style="--shiki-light:#0184BC;--shiki-dark:#DCDCAA;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> WIP</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> on</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> dev:</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> fc958c7</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> 新建用户</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">stash@</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">{2}</span><span style="--shiki-light:#0184BC;--shiki-dark:#DCDCAA;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> WIP</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> on</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> hello:</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> 336d4e3</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> Merge</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> branch</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> &#39;dev2&#39;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p>通过<code>git stash apply</code>可以解封，但是还存在在 stash list 中，通过<code>git stash drop</code>删除，可以看出，stash 是一个栈结构</p><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">git</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> stash</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> drop</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">Dropped</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> refs/stash@{</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">0</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">}</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> (f4c2dafa4382f0d70657cf4c713bf39e336ef0e0)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">Yee@Yee</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> MINGW64</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> ~/Desktop/gitdome</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> (dev)</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">$</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> git</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> stash</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> list</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">stash@</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">{0}</span><span style="--shiki-light:#0184BC;--shiki-dark:#DCDCAA;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> WIP</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> on</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> dev:</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> fc958c7</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> 新建用户</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">stash@</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">{1}</span><span style="--shiki-light:#0184BC;--shiki-dark:#DCDCAA;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> WIP</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> on</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> hello:</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> 336d4e3</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> Merge</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> branch</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> &#39;dev2&#39;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><code>git stash pop</code>通过这个可以一键删除并恢复</p><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">$</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> git</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> stash</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">Saved</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> working</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> directory</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> and</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> index</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> state</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> WIP</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> on</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> dev:</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> fc958c7</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> 新建用户</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">Yee@Yee</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> MINGW64</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> ~/Desktop/gitdome</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> (dev)</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">$</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> git</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> stash</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> list</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">stash@</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">{0}</span><span style="--shiki-light:#0184BC;--shiki-dark:#DCDCAA;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> WIP</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> on</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> dev:</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> fc958c7</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> 新建用户</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">stash@</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">{1}</span><span style="--shiki-light:#0184BC;--shiki-dark:#DCDCAA;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> WIP</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> on</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> dev:</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> fc958c7</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> 新建用户</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">stash@</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">{2}</span><span style="--shiki-light:#0184BC;--shiki-dark:#DCDCAA;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> WIP</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> on</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> hello:</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> 336d4e3</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> Merge</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> branch</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> &#39;dev2&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">Yee@Yee</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> MINGW64</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> ~/Desktop/gitdome</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> (dev)</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">$</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> git</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> stash</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> pop</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">On</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> branch</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> dev</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">Changes</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> not</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> staged</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> for</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> commit:</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">  (</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">use</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> &quot;git add &lt;file&gt;...&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> to</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> update</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> what</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> will</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> be</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> committed</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">  (</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">use</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> &quot;git restore &lt;file&gt;...&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> to</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> discard</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> changes</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> in</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> working</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> directory</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">        modified:</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">   &quot;\\346\\226\\260\\345\\273\\272\\347\\224\\250\\346\\210\\267.txt&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">no</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> changes</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> added</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> to</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> commit</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> (use </span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&quot;git add&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> and/or</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> &quot;git commit -a&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">Dropped</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> refs/stash@{</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;">0</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">}</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> (72215c233f434ebd7e98eac7421ccf26d8b626b1)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">Yee@Yee</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> MINGW64</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> ~/Desktop/gitdome</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> (dev)</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">$</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> git</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> stash</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> list</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">stash@</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">{0}</span><span style="--shiki-light:#0184BC;--shiki-dark:#DCDCAA;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> WIP</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> on</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> dev:</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> fc958c7</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> 新建用户</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">stash@</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">{1}</span><span style="--shiki-light:#0184BC;--shiki-dark:#DCDCAA;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> WIP</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> on</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> hello:</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> 336d4e3</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> Merge</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> branch</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> &#39;dev2&#39;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><p>假如有多个贮藏</p><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;"> git</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> stash</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> list</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">stash@</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">{0}</span><span style="--shiki-light:#0184BC;--shiki-dark:#DCDCAA;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> WIP</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> on</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> dev:</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> fc958c7</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> 新建用户</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">stash@</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">{1}</span><span style="--shiki-light:#0184BC;--shiki-dark:#DCDCAA;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> WIP</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> on</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> hello:</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> 336d4e3</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> Merge</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> branch</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> &#39;dev2&#39;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>可以选择一个<code>git stash apply stash@{0}</code>指定的编号去恢复</p><h2 id="_16-工作区回退-暂存区回退-checkout-reset-restore" tabindex="-1">16. 工作区回退/暂存区回退 checkout / reset/restore <a class="header-anchor" href="#_16-工作区回退-暂存区回退-checkout-reset-restore" aria-label="Permalink to &quot;16. 工作区回退/暂存区回退 checkout / reset/restore&quot;">​</a></h2><h3 id="checkout" tabindex="-1">checkout <a class="header-anchor" href="#checkout" aria-label="Permalink to &quot;checkout&quot;">​</a></h3><p>工作区的文件在修改后可以执行两种操作：</p><ul><li><p><code>git add</code></p><p>确认工作无误后，把文件上传到暂存区，再 commit 一个新版本</p></li><li><p><code>git checkout -- 文件名</code></p><p>发现工作有错误，回退到修改之前</p></li><li><p><code>git restore</code></p><p>git 2.23 版本后出现的回退指令</p></li></ul><p>首先，使用<code>git status</code>查看仓库状态，这是一个干净无修改的工作区</p><p>修改一个 test.txt，添加一行字符串</p><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">$</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> git</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> status</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">On</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> branch</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> main</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">nothing</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> to</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> commit,</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> working</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> tree</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> clean</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">//添加一行字符串后</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">$</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> git</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> status</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">On</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> branch</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> main</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">Changes</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> not</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> staged</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> for</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> commit:</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">  (</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">use</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> &quot;git add &lt;file&gt;...&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> to</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> update</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> what</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> will</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> be</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> committed</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">  (</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">use</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> &quot;git restore &lt;file&gt;...&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> to</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> discard</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> changes</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> in</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> working</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> directory</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">        modified:</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">   test.txt</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">no</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> changes</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> added</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> to</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> commit</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> (use </span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&quot;git add&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> and/or</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> &quot;git commit -a&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><blockquote><p>git restore 是 git 2.23 出现的新指令，用于清晰语义，因为 checkout 是切换分支有歧义...</p></blockquote><p>先使用<code>git checkout -- 文件名</code>测试</p><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">$</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> git</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> checkout</span><span style="--shiki-light:#986801;--shiki-dark:#569CD6;"> --</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> test.txt</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">Yee@Yee</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> MINGW64</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> ~/Desktop/gitdome</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> (main)</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">$</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> git</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> status</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">On</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> branch</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> main</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">nothing</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> to</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> commit,</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> working</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> tree</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> clean</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>这样做就回退 test.txt 文件到了 commit<code>--&gt;HEAD</code>的状态</p><h3 id="restore" tabindex="-1">restore <a class="header-anchor" href="#restore" aria-label="Permalink to &quot;restore&quot;">​</a></h3><p>现在使用<code>git restore</code>测试</p><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">Yee@Yee</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> MINGW64</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> ~/Desktop/gitdome</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> (main)</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">$</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> git</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> status</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">On</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> branch</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> main</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">nothing</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> to</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> commit,</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> working</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> tree</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> clean</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">Yee@Yee</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> MINGW64</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> ~/Desktop/gitdome</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> (main)</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">$</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> git</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> status</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">On</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> branch</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> main</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">Changes</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> not</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> staged</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> for</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> commit:</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">  (</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">use</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> &quot;git add &lt;file&gt;...&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> to</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> update</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> what</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> will</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> be</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> committed</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">  (</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">use</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> &quot;git restore &lt;file&gt;...&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> to</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> discard</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> changes</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> in</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> working</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> directory</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">        modified:</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">   test.txt</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">no</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> changes</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> added</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> to</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> commit</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> (use </span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&quot;git add&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> and/or</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> &quot;git commit -a&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">Yee@Yee</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> MINGW64</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> ~/Desktop/gitdome</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> (main)</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">$</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> git</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> restore</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> test.txt</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">Yee@Yee</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> MINGW64</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> ~/Desktop/gitdome</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> (main)</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">$</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> git</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> status</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">On</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> branch</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> main</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">nothing</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> to</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> commit,</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> working</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> tree</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> clean</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><p>一样可以完成结果，回复到暂存区的状态</p><p>如果想回退到<code>HEAD--&gt;</code>，那么指令是<code>git restore --source=HEAD example.txt </code></p><p>在查资料的时候看见<code>git restore --staged &lt;file&gt;</code></p><p>这个是<strong>清空暂存区中的文件</strong>（仅从暂存区移除，不影响工作区）</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">Yee@Yee</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> MINGW64</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> ~/Desktop/gitdome</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> (main)</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">$</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> git</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> status</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">On</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> branch</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> main</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">Changes</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> not</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> staged</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> for</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> commit:</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">  (</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">use</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> &quot;git add &lt;file&gt;...&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> to</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> update</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> what</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> will</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> be</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> committed</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">  (</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">use</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> &quot;git restore &lt;file&gt;...&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> to</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> discard</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> changes</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> in</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> working</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> directory</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">        modified:</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">   hello.txt</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">        modified:</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">   test.txt</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">no</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> changes</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> added</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> to</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> commit</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> (use </span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&quot;git add&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> and/or</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> &quot;git commit -a&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">Yee@Yee</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> MINGW64</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> ~/Desktop/gitdome</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> (main)</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">$</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> git</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> add</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> .</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">Yee@Yee</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> MINGW64</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> ~/Desktop/gitdome</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> (main)</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">$</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> git</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> status</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">On</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> branch</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> main</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">Changes</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> to</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> be</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> committed:</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">  (</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">use</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> &quot;git restore --staged &lt;file&gt;...&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> to</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> unstage</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">        modified:</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">   hello.txt</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">        modified:</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">   test.txt</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">//再修改工作区的test</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">Yee@Yee</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> MINGW64</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> ~/Desktop/gitdome</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> (main)</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">$</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> git</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> status</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">On</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> branch</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> main</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">Changes</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> to</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> be</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> committed:</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">  (</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">use</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> &quot;git restore --staged &lt;file&gt;...&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> to</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> unstage</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">        modified:</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">   hello.txt</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">        modified:</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">   test.txt</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">Changes</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> not</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> staged</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> for</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> commit:</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">  (</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">use</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> &quot;git add &lt;file&gt;...&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> to</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> update</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> what</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> will</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> be</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> committed</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">  (</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">use</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> &quot;git restore &lt;file&gt;...&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> to</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> discard</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> changes</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> in</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> working</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> directory</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">        modified:</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">   test.txt</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">Yee@Yee</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> MINGW64</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> ~/Desktop/gitdome</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> (main)</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">$</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> git</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> restore</span><span style="--shiki-light:#986801;--shiki-dark:#569CD6;"> --staged</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> test.txt</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">Yee@Yee</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> MINGW64</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> ~/Desktop/gitdome</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> (main)</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">$</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> git</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> status</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">On</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> branch</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> main</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">Changes</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> to</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> be</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> committed:</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">  (</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">use</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> &quot;git restore --staged &lt;file&gt;...&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> to</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> unstage</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">        modified:</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">   hello.txt</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">Changes</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> not</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> staged</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> for</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> commit:</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">  (</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">use</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> &quot;git add &lt;file&gt;...&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> to</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> update</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> what</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> will</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> be</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> committed</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">  (</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">use</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> &quot;git restore &lt;file&gt;...&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> to</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> discard</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> changes</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> in</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> working</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> directory</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">        modified:</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">   test.txt</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br></div></div><p>可以看到暂存区的文件被退回了，但是工作区已经修改的文件仍然还在</p><h3 id="reset" tabindex="-1">reset <a class="header-anchor" href="#reset" aria-label="Permalink to &quot;reset&quot;">​</a></h3><p>如果是想仅仅是把暂存区的文件放回工作区可以使用：<code>git reset HEAD &lt;file&gt;</code></p><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">Yee@Yee</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> MINGW64</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> ~/Desktop/gitdome</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> (main)</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">$</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> git</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> status</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">On</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> branch</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> main</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">Changes</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> to</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> be</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> committed:</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">  (</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">use</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> &quot;git restore --staged &lt;file&gt;...&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> to</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> unstage</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">        modified:</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">   hello.txt</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">Changes</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> not</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> staged</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> for</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> commit:</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">  (</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">use</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> &quot;git add &lt;file&gt;...&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> to</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> update</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> what</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> will</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> be</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> committed</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">  (</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">use</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> &quot;git restore &lt;file&gt;...&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> to</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> discard</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> changes</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> in</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> working</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> directory</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">        modified:</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">   test.txt</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">        modified:</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">   &quot;\\350\\277\\231\\346\\230\\257hello2.txt&quot;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">Yee@Yee</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> MINGW64</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> ~/Desktop/gitdome</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> (main)</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">$</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> git</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> reset</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> HEAD</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> hello.txt</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">Unstaged</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> changes</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> after</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> reset:</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">M</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">       hello.txt</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">M</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">       test.txt</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">M</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">       这是hello2.txt</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">Yee@Yee</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> MINGW64</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> ~/Desktop/gitdome</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> (main)</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">$</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> git</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> status</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">On</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> branch</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> main</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">Changes</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> not</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> staged</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> for</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> commit:</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">  (</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">use</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> &quot;git add &lt;file&gt;...&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> to</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> update</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> what</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> will</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> be</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> committed</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">  (</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">use</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> &quot;git restore &lt;file&gt;...&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> to</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> discard</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> changes</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> in</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> working</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> directory</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">        modified:</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">   hello.txt</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">        modified:</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">   test.txt</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">        modified:</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">   &quot;\\350\\277\\231\\346\\230\\257hello2.txt&quot;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br></div></div><p>以下是 gpt 的介绍</p><p><code>git reset</code> 是一个非常强大的 Git 命令，用于撤销更改和移动 HEAD 指针。它可以用于重置暂存区的文件、更改当前分支的提交历史，甚至更新工作目录。以下是详细的用法和示例：</p><p>基本用法：</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span>sh</span></span>
<span class="line"><span>复制代码</span></span>
<span class="line"><span>git reset [&lt;mode&gt;] [&lt;commit&gt;]</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>模式：</p><ol><li><strong>--soft</strong>：仅移动 HEAD 指针，不改变暂存区和工作区的内容。</li><li><strong>--mixed</strong>（默认模式）：移动 HEAD 指针，并重置暂存区为指定的 commit，但不改变工作区的内容。</li><li><strong>--hard</strong>：移动 HEAD 指针，重置暂存区，并更新工作区，使其与指定的 commit 一致。</li></ol><p>用法和示例：</p><ol><li><code>--soft</code> 模式</li></ol><p>仅重置 HEAD 指针，不改变暂存区和工作区。这种模式适合想保留更改但移动提交历史的情况。</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span>sh复制代码# 移动 HEAD 指针到指定的提交，但保留暂存区和工作区的更改</span></span>
<span class="line"><span>git reset --soft &lt;commit&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>示例：</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span>sh</span></span>
<span class="line"><span>复制代码</span></span>
<span class="line"><span>git reset --soft HEAD~1</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>这个命令会把 HEAD 指针移到上一个提交，保留当前的所有更改为已暂存状态。</p><ol start="2"><li><code>--mixed</code> 模式（默认）</li></ol><p>重置 HEAD 指针和暂存区，但保留工作区的更改。这是默认模式，适合想保留更改但从暂存区移除的情况。</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span>sh复制代码# 移动 HEAD 指针到指定的提交，并重置暂存区，但保留工作区的更改</span></span>
<span class="line"><span>git reset --mixed &lt;commit&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>示例：</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span>sh</span></span>
<span class="line"><span>复制代码</span></span>
<span class="line"><span>git reset --mixed HEAD~1</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>这个命令会把 HEAD 指针移到上一个提交，并将当前的更改从暂存区移除，但保留在工作区。</p><ol start="3"><li><code>--hard</code> 模式</li></ol><p>重置 HEAD 指针、暂存区和工作区，使其全部与指定的 commit 一致。这会丢失所有未提交的更改。</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span>sh复制代码# 移动 HEAD 指针到指定的提交，并重置暂存区和工作区，使它们与该提交一致</span></span>
<span class="line"><span>git reset --hard &lt;commit&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>示例：</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span>sh</span></span>
<span class="line"><span>复制代码</span></span>
<span class="line"><span>git reset --hard HEAD~1</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>这个命令会把 HEAD 指针移到上一个提交，并丢弃所有未提交的更改。</p><p>其他示例</p><ol><li>重置单个文件</li></ol><p>如果只想重置暂存区中的某个文件，可以使用：</p><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">复制代码</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">git</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> reset</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> &lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">fil</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">e&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>这个命令会把指定文件从暂存区移除，但保留在工作区。</p><ol start="2"><li>移动到特定提交</li></ol><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">sh</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">复制代码</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">git</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> reset</span><span style="--shiki-light:#986801;--shiki-dark:#569CD6;"> --hard</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> &lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">commit_has</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">h&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>这个命令会把 HEAD、暂存区和工作区都重置到指定的提交。</p><ol start="3"><li>撤销最近的提交但保留更改</li></ol><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">sh</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">复制代码</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">git</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> reset</span><span style="--shiki-light:#986801;--shiki-dark:#569CD6;"> --soft</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> HEAD~1</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>这个命令会撤销最近的提交，但保留所有更改为已暂存状态。</p><blockquote><p><code>git reset</code> 是一个功能强大且多用途的命令，可以用来修改提交历史、重置暂存区和工作区。根据不同的模式，可以选择适合当前需求的操作方式：</p><ul><li><strong>--soft</strong> 保留所有更改，但移动 HEAD 指针。</li><li><strong>--mixed</strong> 重置暂存区，但保留工作区更改。</li><li><strong>--hard</strong> 丢弃所有未提交的更改，并重置到指定的提交。</li></ul></blockquote><p>ps.reset 偷个懒用的 gpt 的介绍</p><h3 id="总结" tabindex="-1">总结 <a class="header-anchor" href="#总结" aria-label="Permalink to &quot;总结&quot;">​</a></h3><p>回退分为三种</p><ol><li>回退工作区</li></ol><ul><li><code>git checkout &lt;file&gt;</code></li><li><code>git restore &lt;file&gt;</code></li></ul><ol start="2"><li>文件从暂存区到工作区，不影响工作区</li></ol><ul><li><code>git reset HEAD &lt;file&gt;</code></li><li><code>git restore --staged &lt;file&gt;</code></li></ul><ol start="3"><li>commit、暂存区、工作区都变为 commit 一个版本</li></ol><ul><li>\`\`git reset --hard commit_id\`</li></ul><h2 id="_17-删除文件" tabindex="-1">17. 删除文件 <a class="header-anchor" href="#_17-删除文件" aria-label="Permalink to &quot;17. 删除文件&quot;">​</a></h2><p><code>git rm &lt;file&gt;</code></p><p>暂存区和工作区都删除文件，只需要 commit，相当于手动删除+git add</p><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">$</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> git</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> rm</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> hello.txt</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">rm</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> &#39;hello.txt&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">Yee@Yee</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> MINGW64</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> ~/Desktop/gitdome</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> (main)</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">$</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> git</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> status</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">On</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> branch</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> main</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">Changes</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> to</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> be</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> committed:</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">  (</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">use</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> &quot;git restore --staged &lt;file&gt;...&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> to</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> unstage</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">        deleted:</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">    hello.txt</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">$</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> git</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> commit</span><span style="--shiki-light:#986801;--shiki-dark:#569CD6;"> -m</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> &quot;删除hello&quot;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">[main f979439] 删除hello</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;"> 1</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> file</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> changed,</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;"> 1</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> deletion</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">-</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;"> delete</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> mode</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;"> 100644</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> hello.txt</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h2 id="_18-版本差异" tabindex="-1">18. 版本差异 <a class="header-anchor" href="#_18-版本差异" aria-label="Permalink to &quot;18. 版本差异&quot;">​</a></h2><p><code>git diff</code> 是一个用于显示未提交更改的 Git 命令。它可以显示工作区和暂存区之间的差异、暂存区和最近一次提交之间的差异，以及其他特定的比较。以下是 <code>git diff</code> 的详细用法和一些常见示例：</p><p>基本用法</p><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">git</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> diff</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>显示工作区中未暂存的更改。</p><p>常见示例</p><ol><li>查看工作区和暂存区之间的差异</li></ol><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">git</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> diff</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>这个命令会显示工作区中未暂存的更改。</p><ol start="2"><li>查看暂存区和最近一次提交之间的差异</li></ol><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">git</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> diff</span><span style="--shiki-light:#986801;--shiki-dark:#569CD6;"> --cached</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>这个命令（或者 <code>git diff --staged</code>）会显示已暂存但还未提交的更改。</p><ol start="3"><li>查看工作区和最近一次提交之间的差异</li></ol><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">git</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> diff</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> HEAD</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>这个命令会显示工作区中所有未提交的更改，无论它们是否已经暂存。</p><ol start="4"><li>查看两个分支之间的差异</li></ol><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">git</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> diff</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> branch1</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> branch2</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>这个命令会显示 <code>branch1</code> 和 <code>branch2</code> 之间的差异。</p><ol start="5"><li>查看两个提交之间的差异</li></ol><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">git</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> diff</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> commit1</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> commit2</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>这个命令会显示 <code>commit1</code> 和 <code>commit2</code> 之间的差异。</p><ol start="6"><li>查看特定文件的差异</li></ol><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">git</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> diff</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> HEAD</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> &lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">fil</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">e&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>这个命令会显示当前工作区中的特定文件和最近一次提交之间的差异。</p><ol start="7"><li>查看特定目录的差异</li></ol><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">git</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> diff</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> HEAD</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> &lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">director</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">y&gt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">/</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>这个命令会显示当前工作区中的特定目录和最近一次提交之间的差异。</p><p>其他有用的选项</p><ul><li><p><strong>显示简洁的差异</strong>：</p><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">git</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> diff</span><span style="--shiki-light:#986801;--shiki-dark:#569CD6;"> --stat</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>这个命令会以简洁的统计方式显示更改。</p></li><li><p><strong>忽略空白字符的差异</strong>：</p><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">git</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> diff</span><span style="--shiki-light:#986801;--shiki-dark:#569CD6;"> --ignore-all-space</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>这个命令会忽略空白字符的更改。</p></li><li><p><strong>显示统一格式的差异（默认格式）</strong>：</p><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">git</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> diff</span><span style="--shiki-light:#986801;--shiki-dark:#569CD6;"> --unified</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>这个命令会以统一格式显示更改，默认情况下 <code>git diff</code> 就是使用这种格式。</p></li><li><p><strong>仅显示名称的差异</strong>：</p><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">git</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> diff</span><span style="--shiki-light:#986801;--shiki-dark:#569CD6;"> --name-only</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>这个命令会仅显示文件名称，而不显示具体的更改内容。</p></li></ul><p>例子</p><p>假设有一个项目目录，修改了 <code>file1.txt</code> 和 <code>file2.txt</code> 文件，现在想查看这些修改：</p><ol><li><p>查看未暂存的更改：</p><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">git</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> diff</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div></li><li><p>暂存更改：</p><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">git</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> add</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> file1.txt</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div></li><li><p>查看已暂存的更改：</p><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">git</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> diff</span><span style="--shiki-light:#986801;--shiki-dark:#569CD6;"> --cached</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div></li><li><p>提交更改：</p><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">git</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> commit</span><span style="--shiki-light:#986801;--shiki-dark:#569CD6;"> -m</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> &quot;修改了 file1.txt 和 file2.txt&quot;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div></li></ol><p>总结</p><p><code>git diff</code> 是一个非常强大的工具，用于比较文件的不同版本。它可以帮助在提交更改之前了解具体的修改内容，并且可以在多个不同的上下文中使用，从而提供灵活的比较方式。</p><h2 id="_19-标签-tag" tabindex="-1">19. 标签 tag <a class="header-anchor" href="#_19-标签-tag" aria-label="Permalink to &quot;19. 标签 tag&quot;">​</a></h2><p>标签是 git 版本自定义文本的功能，让人更好的区分不同版本，而不是一串无规律的数字字母编号</p><p>可以理解为 给不同的 commit 版本 起别名，或是一个 死指针 固定的指向那个 commit</p><p><code>git tag </code>查看所有标签</p><p><code>git tag &lt;tagname&gt;</code>创建一个标签，默认以当前分支的最新 commit 为基本</p><p><code>git tag &lt;tagname&gt; &lt;commitID&gt;</code>给指定 commitId 进行打标签</p><p><code>git show &lt;tagname&gt; </code>展示标签详细信息</p><p><code>git tag -a v0.1 -m &quot;version 0.1 released&quot; 1094adb</code>给标签设置详细信息</p><p><code>git push origin &lt;tagname&gt;</code>上传标签到远程仓库</p><p><code>git push origin master --tags</code>上传全部标签到远程仓库</p><p><code>git tag -d &lt;tagname&gt;</code>删除标签</p><p><code> git push origin --delete &lt;tagname&gt;</code>远程仓库的标签删除</p><p><code>git push origin :refs/tags/&lt;tagname&gt;</code>同上</p><blockquote><p><a href="https://git-scm.com/book/zh/v2/Git-%E5%9F%BA%E7%A1%80-%E6%89%93%E6%A0%87%E7%AD%BE" target="_blank" rel="noreferrer">Git - 打标签 (git-scm.com)</a></p></blockquote><h2 id="_20-清理未追踪的文件" tabindex="-1">20. 清理未追踪的文件 <a class="header-anchor" href="#_20-清理未追踪的文件" aria-label="Permalink to &quot;20. 清理未追踪的文件&quot;">​</a></h2><p>未追踪的文件指：</p><ul><li>未通过 add 添加到暂存区的文件</li><li>.gitignore 文件写入的目录文件</li></ul><p>通过<code>git clean</code>可以清除未追踪的文件</p><p><code>git clean -n</code>显示哪些文件将被删除，并不是删除，而是删除前查看将删除的文件同<code>git clean --dry-run</code></p><p><code>git clean -f</code>强制删除。<code>git clean --force</code></p><p><code>git clean -f -d</code>删除未追踪的目录，<code>git clean </code>一般只删除文件，不删除目录，需要删除目录则使用这个</p><p><code>git clean -f -X</code>仅删除忽略掉的文件。即<code>.gitignore</code>指定的文件</p><p><code>git clean -f -x</code>删除所有未追踪的文件和忽略的文件。这个选项会删除所有未追踪的文件，包括那些在 <code>.gitignore</code> 文件中指定的文件。</p><h2 id="_21-忽略文件" tabindex="-1">21. 忽略文件 <a class="header-anchor" href="#_21-忽略文件" aria-label="Permalink to &quot;21. 忽略文件&quot;">​</a></h2><p>在 git 仓库根目录中，命名一个<code>.gitignore</code></p><p>在这个目录中的目录或者文件名都不会出现在 git 的提交中，隐私信息或者配置信息就不会发出去</p><p>也就是说 git 不再追踪.gitignore 写入的文件</p><p>如果忽略了，但是确实想提交<code>git add -f App.class</code></p><p>如果发现目录写错了，但是找不到问题，<code>git check-ignore -v App.class</code>会提醒哪里出了问题</p><p>如果想添加不被排除的文件</p><p>例如</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">*.class</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">但是想要文件</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> App.class</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">!</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">App.class</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>就可以实现不排除 App.class 了</p><h2 id="_22-撤销提交的-revert" tabindex="-1">22. 撤销提交的 revert <a class="header-anchor" href="#_22-撤销提交的-revert" aria-label="Permalink to &quot;22. 撤销提交的 revert&quot;">​</a></h2><p>相比 reset 的重置，把新的 commit 删除，revert 会新建一个提交把旧的版本逆转，并保留原先的 commit，保留提交历史的完整性</p><p><code>git revert &lt;commitid&gt;</code></p>`,191),s("p",null,[s("span",{class:"img-wrapper"},[s("img",{src:"https://cdn.jsdelivr.net/gh/dcdy/image/img/blogimage-20240522192833426.webp",alt:"image-20240522192833426",width:"auto",height:"auto",class:"img-loading",onload:"this.classList.remove('img-loading')",onerror:"this.classList.remove('img-loading'); this.classList.add('img-error')"})])],-1),a(`<div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">* c778266 qevert </span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&quot;revert_test_2&quot;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">* b39474d revert_test_3</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">* 2ce70d9 revert_test_2</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">* d029a3d revert_test_1</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>会发现原来的 commit 依旧存在，并且还添加了一个 commit，显示逆转到了 revert</p><p>允许多个撤销<code>git revert &lt;commit&gt; &lt;commit&gt; &lt;commit&gt;....</code>,会一个一个撤销/逆转</p><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">$</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> git</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> revert</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">  e90405d</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">   4e41599</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> c778266</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">[dev 13b68aa] Revert </span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&quot;cs5&quot;</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;"> 1</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> file</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> changed,</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;"> 1</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> deletion</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">-</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">[dev f53dff4] Revert </span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&quot;revert_test_4&quot;</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;"> 1</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> file</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> changed,</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;"> 0</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> insertions</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">+</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">)</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">,</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;"> 0</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> deletions</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">-</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;"> delete</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> mode</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;"> 100644</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> asa.txt</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">[dev 504f1d3] Revert </span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&quot;qevert &quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">revert_test_2</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&quot;&quot;</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;"> 1</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> file</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> changed,</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;"> 4</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> deletions</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">-</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">Yee@Yee</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> MINGW64</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> ~/Desktop/gitdome</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> (dev)</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">$</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> git</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> log</span><span style="--shiki-light:#986801;--shiki-dark:#569CD6;"> --graph</span><span style="--shiki-light:#986801;--shiki-dark:#569CD6;"> --all</span><span style="--shiki-light:#986801;--shiki-dark:#569CD6;"> --pretty=oneline</span><span style="--shiki-light:#986801;--shiki-dark:#569CD6;"> --abbrev-commit</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">* 504f1d3 (</span><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">HEAD</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> -&gt; </span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">dev</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">) Revert </span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&quot;qevert &quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">revert_test_2</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&quot;&quot;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">* f53dff4 Revert </span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&quot;revert_test_4&quot;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">* 13b68aa Revert </span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&quot;cs5&quot;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">* ff40ccb cs6</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">* e90405d cs5</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">* 4e41599 revert_test_4</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;"> git</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> revert</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> 2ce70d9</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">Auto-merging</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> revert.txt</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">CONFLICT</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> (content): Merge conflict in revert.txt</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">error:</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> could</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> not</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> revert</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> 2ce70d9...</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> revert_test_2</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">hint:</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> After</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> resolving</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> the</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> conflicts,</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> mark</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> them</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> with</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">hint:</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> &quot;git add/rm &lt;pathspec&gt;&quot;,</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> then</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> run</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">hint:</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> &quot;git revert --continue&quot;.</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">hint:</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> You</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> can</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> instead</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> skip</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> this</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> commit</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> with</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> &quot;git revert --skip&quot;.</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">hint:</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> To</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> abort</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> and</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> get</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> back</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> to</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> the</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> state</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> before</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> &quot;git revert&quot;,</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">hint:</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> run</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> &quot;git revert --abort&quot;.</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>出现冲突时</p><p>在提示的文件中修改冲突后，可以选择<code>git add/rm &lt;pathspec&gt;</code>，添加到暂存区，再<code>git revert --continue</code>继续还原</p><p>当有多个逆转提交时可以使用<code>git revert --skip</code>跳过这个改变提交，而执行其他的逆转，比如<code>git revert A B C D</code>，C 出现了冲突，选择<code>git revert --skip</code>,这个时候 ABD 仍然逆转，C 的修改不变。</p><p><code>git revert --abort</code>逆转过程中，有冲突的时候使用这个语句将中止当前所有逆转，并返回到<code>git revert</code>前</p><h2 id="_23-检索" tabindex="-1">23. 检索 <a class="header-anchor" href="#_23-检索" aria-label="Permalink to &quot;23. 检索&quot;">​</a></h2><p><code>git grep [options] pattern [-- [pathspec...]]</code></p><ul><li><p>pattern</p><p>字符串或者正则表达式</p></li><li><p>[不同的模式]</p></li><li><p>pathspec</p><p>搜索的文件或者目录</p></li></ul><p>常用选项</p><ul><li><p><strong><code>-i</code></strong>：忽略大小写。</p><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">git</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> grep</span><span style="--shiki-light:#986801;--shiki-dark:#569CD6;"> -i</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> &quot;pattern&quot;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div></li><li><p><strong><code>-n</code></strong>：显示匹配行的行号。</p><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">git</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> grep</span><span style="--shiki-light:#986801;--shiki-dark:#569CD6;"> -n</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> &quot;pattern&quot;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div></li><li><p><strong><code>-v</code></strong>：反向匹配，显示不包含匹配模式的行。</p><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">git</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> grep</span><span style="--shiki-light:#986801;--shiki-dark:#569CD6;"> -v</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> &quot;pattern&quot;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div></li><li><p><strong><code>-c</code></strong>：只显示匹配的行数。</p><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">git</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> grep</span><span style="--shiki-light:#986801;--shiki-dark:#569CD6;"> -c</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> &quot;pattern&quot;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div></li><li><p><strong><code>-l</code></strong>：只显示包含匹配模式的文件名。</p><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">git</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> grep</span><span style="--shiki-light:#986801;--shiki-dark:#569CD6;"> -l</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> &quot;pattern&quot;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div></li><li><p><strong><code>--cached</code></strong>：在索引（暂存区）中搜索。</p><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">git</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> grep</span><span style="--shiki-light:#986801;--shiki-dark:#569CD6;"> --cached</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> &quot;pattern&quot;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div></li><li><p><strong><code>&lt;commit&gt;</code></strong>：在指定提交中搜索。</p><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">git</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> grep</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> &quot;pattern&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> HEAD</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">git</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> grep</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> &quot;pattern&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> commit_hash</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li><li><p><strong><code>&lt;branch&gt;</code></strong>：在指定分支中搜索。</p><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">git</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> grep</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> &quot;pattern&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> branch_name</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div></li><li><p><strong><code>--</code></strong>：分隔符，用于区分路径和模式。</p><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">git</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> grep</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> &quot;pattern&quot;</span><span style="--shiki-light:#986801;--shiki-dark:#569CD6;"> --</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> path/to/file_or_directory</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div></li></ul><p>例子：</p><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">$</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> git</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> grep</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> 测试</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">revert.txt:测试1</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">revert.txt:测试2</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">revert.txt:测试3</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">Yee@Yee</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> MINGW64</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> ~/Desktop/gitdome</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> (dev)</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">$</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> git</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> grep</span><span style="--shiki-light:#986801;--shiki-dark:#569CD6;"> -n</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> 测试</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">revert.txt:1:测试1</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">revert.txt:3:测试2</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">revert.txt:5:测试3</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h2 id="_24-溯源-blame" tabindex="-1">24. 溯源 blame <a class="header-anchor" href="#_24-溯源-blame" aria-label="Permalink to &quot;24. 溯源 blame&quot;">​</a></h2><p><code>git blame [options] &lt;file&gt;</code></p><p>查看文件被谁修改以及提交信息等等</p><p>例子：</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">$</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> git</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> blame</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> test.txt</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">86960c55</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> (yee1819 </span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">2024-05-15</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> 08:53:55</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> +0800</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;"> 1</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">) 25616515</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">86960c55</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> (yee1819 </span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">2024-05-15</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> 08:53:55</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> +0800</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;"> 2</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">074914c1</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> (yee1819 </span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">2024-05-15</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> 09:37:42</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> +0800</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;"> 3</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">074914c1</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> (yee1819 </span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">2024-05-15</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> 09:37:42</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> +0800</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;"> 4</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">) 这是在main分支输入的内容</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">336c576f</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> (yee1819 </span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">2024-05-15</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> 08:55:38</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> +0800</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;"> 5</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">) 这里是hello 分支的内容</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">074914c1</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> (yee1819 </span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">2024-05-15</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> 09:37:42</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> +0800</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;"> 6</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">133c7fd3</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> (yee1819 </span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">2024-05-22</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> 10:14:54</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> +0800</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;"> 7</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">) ttttt</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">133c7fd3</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> (yee1819 </span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">2024-05-22</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> 10:14:54</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> +0800</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;"> 8</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">133c7fd3</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> (yee1819 </span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">2024-05-22</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> 10:14:54</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> +0800</span><span style="--shiki-light:#986801;--shiki-dark:#B5CEA8;"> 9</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">) 6666</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>选项：</p><ul><li><p><strong><code>-L &lt;start&gt;,&lt;end&gt;</code></strong>：限制只显示特定范围的行。</p><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">git</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> blame</span><span style="--shiki-light:#986801;--shiki-dark:#569CD6;"> -L</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> 10,20</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> &lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">fil</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">e&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>只显示从第 10 行到第 20 行的修改记录。</p></li><li><p><strong><code>-c</code></strong>：使用简短的提交哈希。</p><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">git</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> blame</span><span style="--shiki-light:#986801;--shiki-dark:#569CD6;"> -c</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> &lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">fil</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">e&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div></li><li><p><strong><code>-e</code></strong>：显示作者的 email 地址。</p><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">git</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> blame</span><span style="--shiki-light:#986801;--shiki-dark:#569CD6;"> -e</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> &lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">fil</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">e&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div></li><li><p><strong><code>-f</code></strong>：显示完整的文件名和行号。</p><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">git</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> blame</span><span style="--shiki-light:#986801;--shiki-dark:#569CD6;"> -f</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> &lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">fil</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">e&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div></li><li><p><strong><code>-l</code></strong>：显示包含换行符的行。</p><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">git</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> blame</span><span style="--shiki-light:#986801;--shiki-dark:#569CD6;"> -l</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> &lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">fil</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">e&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div></li><li><p><strong><code>-p</code></strong>：显示更详细的原始信息。</p><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">git</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> blame</span><span style="--shiki-light:#986801;--shiki-dark:#569CD6;"> -p</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> &lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">fil</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">e&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div></li><li><p><strong><code>--since=&lt;date&gt;</code> 和 <code>--until=&lt;date&gt;</code></strong>：限制显示从某个日期开始或截止的修改。</p><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">git</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> blame</span><span style="--shiki-light:#986801;--shiki-dark:#569CD6;"> --since=2.weeks</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> &lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">fil</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">e&gt;</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">例如：</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">$</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> git</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> blame</span><span style="--shiki-light:#986801;--shiki-dark:#569CD6;"> --since=</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">&quot;2023-01-01&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> test.txt</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li><li><p><strong><code>-C</code></strong>：检测代码搬移（跨文件）。</p><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="复制代码" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes OneLight dark-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#DCDCAA;">git</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;"> blame</span><span style="--shiki-light:#986801;--shiki-dark:#569CD6;"> -C</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;"> &lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#CE9178;">fil</span><span style="--shiki-light:#383A42;--shiki-dark:#D4D4D4;">e&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div></li></ul><h2 id="_25-flow-分支管理系统" tabindex="-1">25. flow 分支管理系统 <a class="header-anchor" href="#_25-flow-分支管理系统" aria-label="Permalink to &quot;25. flow 分支管理系统&quot;">​</a></h2><p>一套详细的分支管理策略主要分为</p><ol><li><strong>主分支（master）</strong>：始终保持可发布状态，包含已经发布的版本。</li><li><strong>开发分支（develop）</strong>：包含即将发布的功能，作为功能分支的集成分支。</li><li><strong>功能分支（feature）</strong>：用于开发新功能，基于 <code>develop</code> 创建，完成后合并回 <code>develop</code>。</li><li><strong>发布分支（release）</strong>：用于准备新版本的发布，基于 <code>develop</code> 创建，完成后合并回 <code>master</code> 和 <code>develop</code>。</li><li><strong>热修复分支（hotfix）</strong>：用于修复紧急问题，基于 <code>master</code> 创建，完成后合并回 <code>master</code> 和 <code>develop</code>。</li></ol><p>需要先置安装，有独特的一套指令，以及良好的结构化规范，不过多了解。</p>`,27)]))}const C=e(t,[["render",h]]);export{A as __pageData,C as default};
